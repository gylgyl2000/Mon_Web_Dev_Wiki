---
id: 1-Manipulez_le_DOM
title: Manipulez le DOM
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import { Vimeo, CodePen } from 'mdx-embed';

# Manipulez le DOM

## Comprenez ce qu'est le DOM

[Comprenez ce qu'est le DOM - Ã‰crivez du JavaScript pour le web - OpenClassrooms](https://openclassrooms.com/fr/courses/5543061-ecrivez-du-javascript-pour-le-web/5543068-comprenez-ce-quest-le-dom)

<Vimeo vimeoId="539127592" />

<br />

Bonjour et bienvenue dans ce cours !

Nous allons dÃ©couvrir ensemble comment Ã©crire du JavaScript pour le web. CommenÃ§ons tout de suite avec le DOM.

### Qu'est-ce que le DOM ?

Le DOM, qui signifieÂ **Document Object Model**Â (c'est-Ã -dire "modÃ¨le d'objet de document", en franÃ§ais), est une **interface de programmation**
qui est une reprÃ©sentation du HTML d'une page web et qui permet d'accÃ©der aux Ã©lÃ©mentsÂ de cette page web et de les modifier avec le langage
JavaScript.

Il faut voir le DOM comme un **arbre** oÃ¹ chaque Ã©lÃ©ment peut avoir zÃ©ro ou plusieurs enfants, qui peuvent avoir eux-mÃªmes zÃ©ro ou plusieurs
enfants, qui peuvent avoir zÃ©ro ou plusieurs... enfin je pense que vous comprenez le principe.Â ![;)](https://openclassrooms.com/bundles/common/images/smiley/clin.png)

Dans le DOM, on commence toujours par un Ã©lÃ©ment racine qui est le point de dÃ©part du document : la balise `<html>`. Celle-ci a pour enfants
les balises `<head>`Â et `<body>`Â qui ont donc un parent commun : la balise `<html>`Â ! Vous trouverez ensuite le contenu de votre page dans la
balise `<body>`Â sous forme de liens, boutons, blocs, etc.


<figure>
    <img src="https://user.oc-static.com/upload/2021/04/20/1618926723843_1c1_arbre-DOM.png"
         alt="Le DOM commence avec un head et un body puis un arbre de balises se forme Ã  l'intÃ©rieur du body pour reprÃ©senter le document" />
    <figcaption>Le DOM est comme un arbre</figcaption>
</figure>

### ConcrÃ¨tement, Ã  quoiÂ va nous servirÂ le DOM ?

Avec une interface de programmation nous permettant de parcourir le DOM, nous allons pouvoir **interagir** avec lui. Ces interactions
comprennent :
- La modification du contenu d'un Ã©lÃ©ment prÃ©cis ;
- La modification du style d'un Ã©lÃ©ment ;
- La crÃ©ation ou la suppression d'Ã©lÃ©ments ;
- L'interaction avecÂ les utilisateurs, afin de repÃ©rer des clics sur un Ã©lÃ©ment ou encore de rÃ©cupÃ©rerÂ leur nom dans un formulaire ;
- Etc.

### En rÃ©sumÃ©

Dans ceÂ chapitre vous avez appris que :
- le DOM est une reprÃ©sentation dâ€™une page HTML
- il permet dâ€™accÃ©der aux diffÃ©rents Ã©lÃ©ments de la page grÃ¢ce au langage JavaScript.

_Maintenant que vous savez ce quâ€™est un DOM et Ã  quoi il sert, nous allons apprendre Ã  le dompter dans ce cours.Â Vous Ãªtes prÃªts ? Ã€ vos
claviers ! Apprenez dans le chapitre suivant Ã  accÃ©der aux Ã©lÃ©ments du DOM_

-----

## AccÃ©dez aux Ã©lÃ©ments du DOM

[AccÃ©dez aux Ã©lÃ©ments du DOM - Ã‰crivez du JavaScript pour le web - OpenClassrooms](https://openclassrooms.com/fr/courses/5543061-ecrivez-du-javascript-pour-le-web/5577476-accedez-aux-elements-du-dom)

<Vimeo vimeoId="539127622" />

<br />

Chaque Ã©lÃ©ment du DOM est un **objet JavaScript** avec ses propriÃ©tÃ©s et ses fonctions pour le manipuler. Mais avantÂ de commencer les
manipulations, nous allons voir les diffÃ©rentes faÃ§onsÂ de retrouver des Ã©lÃ©ments dans notre page.

### Le document

Tout commenceÂ avec le `document`. Cet objet, auquel vous avez directement accÃ¨s dans votre code JavaScript, est le **point de dÃ©part** du DOM.
Il reprÃ©sente votre page (votre document) entiÃ¨re.

C'est donc lui qui contient les fonctions dont vous aurez besoin pour retrouver les Ã©lÃ©ments que vous cherchez.

Nous allons voir ensemble les principales fonctions de recherche d'Ã©lÃ©ments du DOM.

#### `document.getElementById()`

C'est sÃ»rement la mÃ©thode la plus utilisÃ©e pour retrouver un Ã©lÃ©ment, car c'est aussi la seule qui nous permette de retrouver facilement un
**Ã©lÃ©ment prÃ©cis**.

Comme son nom l'indique, elle va rechercher un Ã©lÃ©ment grÃ¢ce Ã  son `id`. Rappelez-vous qu'il ne doit y avoir qu'un seul Ã©lÃ©ment avec un `id`
donnÃ©, cette mÃ©thode est donc une candidate parfaite pour retrouver un Ã©lÃ©ment particulier.

`getElementById(<id>)`Â prend en paramÃ¨tre l'`id`Â de l'Ã©lÃ©ment que vous recherchez et vous retournera cet Ã©lÃ©ment s'il a Ã©tÃ© trouvÃ©.

Par exemple, si l'on part du code HTML suivant :Â `<p id="my-anchor">My content</p>`, on pourra trouver cet Ã©lÃ©ment avec le code JavaScript
suivant :

```javascript
const myAnchor = document.getElementById('my-anchor');
```

:::info
Vous trouverez toute la [documentation sur le site de Developper Mozilla](https://developer.mozilla.org/fr/docs/Web/API/Document/getElementById).
:::

#### `document.getElementsByClassName()`

Cette mÃ©thode fonctionne de la mÃªme maniÃ¨re que la prÃ©cÃ©dente, mais fera sa recherche sur la `class`Â des Ã©lÃ©ments et retournera la liste des
Ã©lÃ©ments qui correspondent.

:::info
Pour un rappel de ce qu'est une classe, vous pouvez retourner voir le cours [Apprenez Ã  crÃ©er votre site web avec HTML5 et CSS3](https://openclassrooms.com/fr/courses/1603881-apprenez-a-creer-votre-site-web-avec-html5-et-css3/1605060-mettre-en-place-le-css#/id/r-1604993).
:::

`getElementsByClassName(<classe>)`Â prend en paramÃ¨tre la `classe`Â des Ã©lÃ©ments Ã  rechercher et vous retournera une liste d'Ã©lÃ©ments
correspondants.

Par exemple, si l'on part du code HTML suivant :

```html
<div>
    <div class="content">Contenu 1</div>
    <div class="content">Contenu 2</div>
    <div class="content">Contenu 3</div>
</div>
```

on pourra retrouver la liste des Ã©lÃ©ments ayant la classeÂ `content`Â avec le code JavaScript suivant :

```javascript
const contents = document.getElementsByClassName('content');
const firstContent = contents[0];
```

:::info
Vous trouverez [la documentation correspondante sur le site Developper Mozilla.](https://developer.mozilla.org/fr/docs/Web/API/Document/getElementsByClassName)
:::

#### `document.getElementsByTagName()`

Avec cette mÃ©thode, vous rechercherez tous les Ã©lÃ©ments avec un **nom de balise** bien prÃ©cis (par exemple tous les liens (`a`), tous les
boutons (`button`)...).

De la mÃªme maniÃ¨re que la mÃ©thode prÃ©cÃ©dente, vous rÃ©cupÃ©rerez la liste des Ã©lÃ©ments correspondants.

`getElementsByTagName(<name>)`Â prend en paramÃ¨tre le nom de la balise Ã  rechercher et vous retournera la liste des Ã©lÃ©ments correspondants.

Si l'on part du code HTML suivant :

```html
<div>
    <article>Contenu 1</article>
    <article>Contenu 2</article>
    <article>Contenu 3</article>
</div>
```

on pourra retrouver la liste des Ã©lÃ©ments de type `article`Â avec le code JavaScript suivant :

```JAVASCRIPT
const articles = document.getElementsByTagName('article');
const thirdArticle = articles[2];
```

:::info
Pour retrouver la documentation correspondante,Â [rendez-vous sur le site Developper Mozilla.](https://developer.mozilla.org/fr/docs/Web/API/Document/getElementsByTagName)
:::

#### `document.querySelector()`

Cette mÃ©thode est plus complexe, mais aussi beaucoup plus puissante car elle vous permet de faire une recherche complexe dans le DOM, en
mÃ©langeant plusieurs procÃ©dÃ©s. Il s'agit en fait d'un sÃ©lecteur qui permet de cibler certains Ã©lÃ©ments.

Par exemple,Â `document.querySelector("#myId p.article > a")`Â fera une rechercheÂ dans l'Ã©lÃ©ment ayant pour id `#myId`, les Ã©lÃ©ments de type `<p>`
qui ont pour classe `article`, afin de rÃ©cupÃ©rerÂ le lien (`<a>`) quiÂ estÂ un enfant direct (pas des enfants de ses enfants).

Ainsi, avec le code HTML suivant :

```html
<div id="myId">
    <p>
        <span><a href="#">Lien 1</a></span>
        <a href="#">Lien 2</a>
        <span><a href="#">Lien 3</a></span>
    </p>
    <p class="article">
        <span><a href="#">Lien 4</a></span>
        <span><a href="#">Lien 5</a></span>
        <a href="#">Lien 6</a>
    </p>
    <p>
        <a href="#">Lien 7</a>
        <span><a href="#">Lien 8</a></span>
        <span><a href="#">Lien 9</a></span>
    </p>
</div>
```

la recherche JavaScript suivante :

```javascript
const elt = document.querySelector("#myId p.article > a");
```

nous retournera uniquement `Lien 6`.

Si vous Ãªtes Ã  l'aise avec le CSS, les sÃ©lecteurs doivent vous parler. Si ce n'est pas le cas, ce n'est pas grave, on peut dÃ©jÃ  faire beaucoup
de choses avec les autres fonctions, et puis vous pourrez toujours approfondir vos connaissances en CSS quand vous en aurez besoin.

:::info
Voici le lien vers le [cours sur le HTML et le CSS](https://openclassrooms.com/fr/courses/1603881-apprenez-a-creer-votre-site-web-avec-html5-et-css3).
:::

`querySelector()`Â ne renvoie pas une liste des rÃ©sultats, mais le premier Ã©lÃ©ment qui correspond Ã  la recherche.

`querySelector(<selector>)`Â prend en paramÃ¨tre le sÃ©lecteur et vous retournera le premier Ã©lÃ©ment trouvÃ©, ou `null`Â si aucun Ã©lÃ©ment n'a Ã©tÃ©
trouvÃ©.

:::info
La [documentation correspondante est Ã  retrouver sur le site Developper Mozilla](https://developer.mozilla.org/fr/docs/Web/API/Document/querySelector).

Pour retourner une liste de rÃ©sultats qui correspondent Ã  la recherche que vous souhaitez faire il faudra utiliser la fonction `querySelectorAll`,
qui fonctionne de la mÃªme maniÃ¨re.Â ![:D](https://openclassrooms.com/bundles/common/images/smiley/heureux.png)
:::

### Les recherches depuis un Ã©lÃ©ment

Il n'y a pas qu'avec `document`Â que vous pouvez rechercher des Ã©lÃ©ments. Comme nous l'avons vu au dÃ©but du chapitre, chaque Ã©lÃ©ment est un
objet JavaScript avec ses propriÃ©tÃ©s et ses fonctions. Et parmi ces derniÃ¨res, il en existe pour parcourirÂ les enfants etÂ le parent de chaque
Ã©lÃ©ment !
- `element.children`Â : cette propriÃ©tÃ© nous retourne la liste des enfants de cetÂ Ã©lÃ©ment ;
- `element.parentElement`Â : cette propriÃ©tÃ© nous retourne l'Ã©lÃ©ment parent de celui-ci ;
- `element.nextElementSibling`Â / `element.previousElementSibling`Â : ces propriÃ©tÃ©s nous permettent de naviguer vers l'Ã©lÃ©ment suivant / prÃ©cÃ©dent
de mÃªme niveau que notre Ã©lÃ©ment.

Par exemple, avec le code HTML suivant :

```html
<div id="parent">
    <div id="previous">PrÃ©cÃ©dent</div>
    <div id="main">
        <p>Paragraphe 1</p>
        <p>Paragraphe 2</p>
    </div>
    <div id="next">Suivant</div>
</div>
```

et si l'on considÃ¨re que nous avons le code JavaScript suivant :

```javascript
const elt = document.getElementById('main');
```

nous aurons ceci :
- `elt.children`Â nous retournera les Ã©lÃ©ments de type `p`Â qui sont les enfants de l'Ã©lÃ©ment `#main`
- `elt.parentElement`Â nous retournera la `div`Â qui a l'id `parent`
- `elt.nextElementSibling`Â nous retournera l'Ã©lÃ©ment qui a l'id `next`
- `elt.previousElementSibling`Â nous retournera l'Ã©lÃ©ment qui a l'id `previous`

### Ã€ vous de jouer !

![](https://user.oc-static.com/upload/2021/04/20/16189267631776_A-vous-de-jouer%20%282%29.png)

Vous connaissez maintenant plusieurs techniques pour accÃ©der aux Ã©lÃ©ments du DOM. Il est temps de mettre en pratique ces connaissances avec un
exercice !

Entrainez-vous dans l'Ã©diteur de code Javascript de cet [Ã©diteur en ligne CodePen](https://codepen.io/nicolaspatschkowski/pen/OJVOyXZ)Â Ã 
accomplir les tÃ¢ches ci-dessous.
1. RÃ©cupÃ©rez l'Ã©lÃ©ment ayant pour IDÂ `main-content`Â grÃ¢ce Ã  son ID ;
2. RÃ©cupÃ©rez les Ã©lÃ©ments ayant pour classe `important`Â ;
3. RÃ©cupÃ©rez les Ã©lÃ©ments de type `article`Â ;
4. RÃ©cupÃ©rez les Ã©lÃ©ments de type `li`Â qui sont dans une listeÂ `ul`Â ayant la classe `important`. Cette liste doit elle-mÃªme Ãªtre dans un
article (`article`) ;
5. En reprenant le rÃ©sultat de la tÃ¢che prÃ©cÃ©dente, rÃ©cupÃ©rez l'Ã©lÃ©mentÂ `li`Â suivant de la listeÂ `ul`.

<CodePen codePenId="OJVOyXZ" />

1. RÃ©cupÃ©rez l'Ã©lÃ©ment ayant pour IDÂ `main-content`Â grÃ¢ce Ã  son ID

```javascript
console.log("#main-content", document.getElementById("main-content"));
```

```sh
"#main-content" <p id="main-content">Ce contenu est spÃ©cial.</p>
```

2. RÃ©cupÃ©rez les Ã©lÃ©ments ayant pour classe `important`

```javascript
console.log(".important", document.getElementsByClassName("important"));
```

```sh
".important" // [object HTMLCollection]
{
    "0": {},
    "1": {},
    "2": {},
}
```

3. RÃ©cupÃ©rez les Ã©lÃ©ments de type `article`

```javascript
console.log("article", document.getElementsByTagName("article"));
```

```sh
"article" // [object HTMLCollection]
{
    "0": {},
    "1": {},
    "2": {},
}
```

4. RÃ©cupÃ©rez les Ã©lÃ©ments de type `li`Â qui sont dans une listeÂ `ul`Â ayant la classe `important`. Cette liste doit elle-mÃªme Ãªtre dans un
article (`article`)

```javascript
const liItem = document.querySelector("article ul.important > li");
console.log("article ul.important > li", liItem);
```

```sh
"article ul.important > li" <li>ElÃ©ment 4</li>
```

5. En reprenant le rÃ©sultat de la tÃ¢che prÃ©cÃ©dente, rÃ©cupÃ©rez l'Ã©lÃ©mentÂ `li`Â suivant de la listeÂ `ul`

```javascript
const liItem = document.querySelector("article ul.important > li");
console.log("nextElementSibling", liItem.nextElementSibling);
```

```sh
"nextElementSibling" <li>ElÃ©ment 5</li>
```

:::info
Alors, avez-vous rÃ©ussi ?

Je vous propose de comparer votre exercice avec la solution que vous retrouverez ici dans [un nouveau CodePen](https://codepen.io/fabienhenon/pen/rNWPGXE).
:::

<CodePen codePenId="rNWPGXE" />

### En rÃ©sumÃ©

Dans ceÂ chapitre, vous avez appris :
- Ce qu'est le `document`
- Ã€ utiliser plusieurs fonctions commeÂ `getElementById`,Â `getElementsByClassName`, `getElementsByTagName`Â etÂ `querySelector`.
- Ã€ parcourir les enfants et le parent d'un Ã©lÃ©ment.

_Nous savons maintenant retrouver des Ã©lÃ©ments dans le DOM, mais on ne sait pas encore comment modifier leur contenu. C'est donc ce que nous
allons voir dans le prochain chapitre !_

-----

## Modifiez le DOM

[Modifiez le DOM - Ã‰crivez du JavaScript pour le web - OpenClassrooms](https://openclassrooms.com/fr/courses/5543061-ecrivez-du-javascript-pour-le-web/5577491-modifiez-le-dom)

<Vimeo vimeoId="539127658" />

<br />

Maintenant que l'on sait comment accÃ©der aux Ã©lÃ©ments du DOM, nous allons apprendre Ã  les modifier !

### Modifiez le contenu d'un Ã©lÃ©ment

Pour commencer, voyons dÃ©jÃ  lesÂ propriÃ©tÃ©s permettant de modifier directement le contenu de notre Ã©lÃ©ment. Les deux principales sont :
`innerHTML`Â et `textContent`.

`innerHTML`Â demande Ã  ce que vous entriez du texte reprÃ©sentant un contenu HTML. Par exemple :<br />
`"<p>Voici un exemple de contenu pour <strong>innerHTML</strong></p>"`.

La propriÃ©tÃ© `textContent`, quant Ã  elle, demande un simple texte qui ne sera pas interprÃ©tÃ© comme Ã©tant du HTML. Si on reprend l'exemple du
dessus, le mot _innerHTML_ ne sera pas en gras, et les balises HTML seront visibles comme le reste du texte.

:::info
Pour en savoir plus sur [innerHTML](https://developer.mozilla.org/fr/docs/Web/API/Element/innertHTML) et sur [textContent](https://developer.mozilla.org/fr/docs/Web/API/Node/textContent).
:::

:::caution !
DÃ©finir une valeur Ã  innerHTML ou textContent remplace directement le contenu actuel de l'Ã©lÃ©ment par celui que vous prÃ©cisez.
:::

Par exemple, avec le code JavaScript suivant :

```javascript
let elt = document.getElementById('main');
elt.innerHTML = "<ul><li>ElÃ©ment 1</li><li>ElÃ©ment 2</li></ul>";
```

l'Ã©lÃ©ment qui a l'id 'main' aura un nouveau contenu ; le HTML deviendra donc :

```html
<div id="main">
    <ul>
        <li>ElÃ©ment 1</li>
        <li>ElÃ©ment 2</li>
    </ul>
</div>
```

### Modifiez des classes

Il est aussi possible d'accÃ©der directement Ã  la liste des classes d'un Ã©lÃ©ment avec la propriÃ©tÃ© `classList`.

Cette propriÃ©tÃ© `classList`Â fournit aussi uneÂ sÃ©rie de fonctions permettant de modifier cette liste de classes. En voici quelques-unes :
- `add(<string>, [<string>, ...] )`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Element/classList#M%C3%A9thodes)) : ajoute la ou les
classes spÃ©cifiÃ©es ;
- `remove(<string>, [<string>, ...] )`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Element/classList#M%C3%A9thodes)) : supprime la ou
les classes spÃ©cifiÃ©es ;
- `contains(<string> )`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Element/classList#M%C3%A9thodes)) : vÃ©rifie si la classe spÃ©cifiÃ©e
est contenue par cet Ã©lÃ©ment ;
- `replace(<old>, <new> )`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Element/classList#M%C3%A9thodes)) : remplace l'ancienne classe
par la nouvelle classe.

Voici quelques exemples :

```javascript
elt.classList.add("nouvelleClasse"); // Ajoute la classe nouvelleClasse Ã  l'Ã©lÃ©ment
elt.classList.remove("nouvelleClasse"); // Supprime la classe nouvelleClasse que l'on venait d'ajouter
elt.classList.contains("nouvelleClasse"); // Retournera false car on vient de la supprimer
elt.classList.replace("oldClass", "newClass"): // Remplacera oldClass par newClass si oldClass Ã©tait prÃ©sente sur l'Ã©lÃ©ment
```

### ChangezÂ les styles d'un Ã©lÃ©ment

Avec la propriÃ©tÃ© `style`, vous pouvez rÃ©cupÃ©rer et modifier les diffÃ©rents styles d'un Ã©lÃ©ment.

`style`Â est un objetÂ qui aÂ une propriÃ©tÃ© pour chaque style existant. Par exemple, pour modifier la couleur d'arriÃ¨re-plan d'un Ã©lÃ©ment, vous
ferez : `element.style.backgroundColor = '#000';`.

Voici quelques exemples :

```javascript
elt.style.color = "#fff"; // Change la couleur du texte de l'Ã©lÃ©ment Ã  blanche
elt.style.backgroundColor = "#000"; // Change la couleur de fond de l'Ã©lÃ©ment en noir
elt.style.fontWeight = "bold"; // Met le texte de l'Ã©lÃ©ment en gras
```

:::info
Pour en savoir plus sur les styles,Â [rendez-vous sur le site Developper Mozilla](https://developer.mozilla.org/fr/docs/Web/API/HTMLElement/style).
:::

### Modifiez les attributs

Pour dÃ©finir ou remplacer les attributs d'un Ã©lÃ©ment, vous pouvez utiliser la fonction `setAttribute`.

`element.setAttribute(<name>, <value> )`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Element/setAttribute)) prend en paramÃ¨tres le nom
de l'attribut et sa valeur et ne retourne rien.

:::info
Vous pouvez utiliser les fonctions [getAttribute](https://developer.mozilla.org/fr/docs/Web/API/Element/getAttribute) et [removeAttribute](https://developer.mozilla.org/fr/docs/Web/API/Element/removeAttribute)
pour avoir encore plus de contrÃ´le sur les attributs.
:::

Voici quelques exemples avec `elt`Â faisant rÃ©fÃ©rence Ã  un Ã©lÃ©ment de type `input`Â :

```javascript
elt.setAttribute("type", "password"); // Change le type de l'input en un type password
elt.setAttribute("name", "my-password"); // Change le nom de l'input en my-password
elt.getAttribute("name");               // Retourne my-password
```

### CrÃ©ez de nouveaux Ã©lÃ©ments

Modifier des Ã©lÃ©ments c'est bien, mais si on ne pouvait pas en crÃ©er des nouveaux, on serait bien limitÃ©.

C'est pourquoi la fonction `document.createElement`Â existe. Elle va nous permettre de crÃ©er un nouvel Ã©lÃ©ment du type spÃ©cifiÃ©, puis nous
pourrons l'insÃ©rer dans notre DOM.

`document.createElement(<tag>)`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Document/createElement)) prend en paramÃ¨tre le nom de la
balise de notre Ã©lÃ©ment et nous renvoie l'Ã©lÃ©ment nouvellement crÃ©Ã©.

```javascript
const newElt = document.createElement("div");
```

:::caution !
Un Ã©lÃ©ment crÃ©Ã© avec cette fonction ne fait pas encore partie duÂ document, vous ne le verrez donc pas sur votre page. Pour le voir, il va
d'abord falloir l'ajouter en tant qu'enfant Ã  un Ã©lÃ©ment.
:::

### Ajoutez des enfants

Il existe plusieurs faÃ§ons d'ajouter un Ã©lÃ©ment dans notre page. La plus connue est `appendChild`. Cette fonction permet d'ajouter un Ã©lÃ©ment Ã 
la liste des enfants du parent depuis lequel la fonction est appelÃ©e.

`parentNode.appendChild(<element>)` ([doc](https://developer.mozilla.org/fr/docs/Web/API/Node/appendChild)) prend en paramÃ¨tre l'Ã©lÃ©ment Ã 
ajouter en tant qu'enfant. L'Ã©lÃ©ment depuis lequel on appelle cette fonction devient donc le parent de notre Ã©lÃ©ment.

Voici un exemple :

```javascript
const newElt = document.createElement("div");
let elt = document.getElementById("main");
elt.appendChild(newElt);
```

Avec le code ci-dessus, nous venons de crÃ©er un nouvel Ã©lÃ©ment de type `div`, mais qui n'est pas encore rattachÃ© au DOM. Nous avons ensuite
rÃ©cupÃ©rÃ© l'Ã©lÃ©ment ayant pour id `main`. Enfin, nous avons ajoutÃ© notre nouvel Ã©lÃ©ment dans les enfants de l'Ã©lÃ©ment `#main`.

### Supprimez et remplacez des Ã©lÃ©ments

Il existe les fonctions `removeChild`Â et `replaceChild`, afin de respectivement supprimer et remplacer un Ã©lÃ©ment.

`parentNode.removeChild(<element>)`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Node/removeChild)) prend en paramÃ¨tre l'Ã©lÃ©ment Ã 
supprimer du parent et retourne cet Ã©lÃ©ment.

`parentNode.replaceChild(<newElement>, <oldElement>)`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/Node/replaceChild)) prend en
paramÃ¨tres le nouvel Ã©lÃ©ment ainsi que l'Ã©lÃ©ment Ã  remplacer, et retourne ce dernier.

Voici quelques exemples :

```javascript
const newElt = document.createElement("div");
let elt = document.getElementById("main");
elt.appendChild(newElt);
elt.removeChild(newElt); // Supprime l'Ã©lÃ©ment newElt de l'Ã©lÃ©ment elt
elt.replaceChild(document.createElement("article"), newElt);    // Remplace l'Ã©lÃ©ment newElt par un nouvel Ã©lÃ©ment de type article
```

### Ã€ vous de jouer !

![16189267631776_A-vous-de-jouer%20%282%29.png](https://user.oc-static.com/upload/2021/04/20/16189267631776_A-vous-de-jouer%20%282%29.png)

Il est temps de s'exercer Ã  modifier le contenu des Ã©lÃ©ments du DOM !

Entrainez-vous dans l'Ã©diteur de code Javascript de [cet exercice CodePen](https://codepen.io/nicolaspatschkowski/pen/bGdYVmJ) Ã Â accomplir les
tÃ¢ches ci-dessous :
1. CrÃ©ez un nouvel Ã©lÃ©ment de type paragraphe `p`Â ;
2. Ajoutez votre nouvel Ã©lÃ©ment dans l'Ã©lÃ©ment ayant pour id `main`Â ;
3. Ajoutez ce contenu HTML dans l'Ã©lÃ©ment que vous avez crÃ©Ã© lors de la premiÃ¨re tÃ¢che : `Mon <strong>grand</strong> contenu`Â ;
4. Ajoutez la classeÂ `important`Â Ã  l'Ã©lÃ©ment que vous avez crÃ©Ã© lors de la premiÃ¨re tÃ¢che ;
5. Votre Ã©lÃ©ment est maintenant rouge, mais on voudrait qu'il soit vert. Modifiez les styles de votre Ã©lÃ©ment (en JavaScript) pour qu'il soit
vert.

<CodePen codePenId="bGdYVmJ" />

```javascript
// 1. CrÃ©ez un nouvel Ã©lÃ©ment de type paragraphe `p`
const nouveauParagraphe = document.createElement("p");
// 2. Ajoutez votre nouvel Ã©lÃ©ment dans l'Ã©lÃ©ment ayant pour id `main`
let principal = document.getElementById("main");
principal.appendChild(nouveauParagraphe);
// 3. Ajoutez ce contenu HTML dans l'Ã©lÃ©ment que vous avez crÃ©Ã© lors de
//    la premiÃ¨re tÃ¢che : `Mon <strong>grand</strong> contenu`
nouveauParagraphe.innerHTML = "Mon <strong>grand</strong> contenu";
// 4. Ajoutez la classe `important` Ã  l'Ã©lÃ©ment que vous avez crÃ©Ã© lors
//    de la premiÃ¨re tÃ¢che
nouveauParagraphe.classList.add("important");
// 5. Votre Ã©lÃ©ment est maintenant rouge, mais on voudrait qu'il soit vert.
//    Modifiez les styles de votre Ã©lÃ©ment (en JavaScript) pour qu'il soit vert
nouveauParagraphe.style.color = "green";
```

:::info
Comment Ã§a sâ€™est passÃ© ? Je vous donne la solution dans [ce CodePen](https://codepen.io/fabienhenon/pen/ZEBwaYN) pour comparer avec votre
exercice.
:::

<CodePen codePenId="ZEBwaYN" />

```javascript
let p = document.createElement("p");

document.getElementById("main").appendChild(p);

p.innerHTML = "Mon <strong>grand</strong> contenu";
p.classList.add("important");
p.style.color = "green";
```

### En rÃ©sumÃ©

Dans ceÂ chapitre, vous avez appris :
- Ã€ modifier le contenu et Ã  manipuler un Ã©lÃ©ment ;
- Ã€ changer les styles et Ã  dÃ©finir les attributs d'un Ã©lÃ©ment ;
- Ã€Â crÃ©er de nouveaux Ã©lÃ©ments et Ã  ajouter des enfants Ã  un Ã©lÃ©ment ;
- Ã€ supprimer et remplacer un Ã©lÃ©ment par un autre.

_Nous savons maintenant comment modifier le DOM. Il ne nous reste plus qu'Ã  apprendre comment interagir avec l'utilisateur, via la souris ou
encore des formulaires._

-----

## Ã‰coutez des Ã©vÃ©nements

[Ã‰coutez des Ã©vÃ©nements - Ã‰crivez du JavaScript pour le web - OpenClassrooms](https://openclassrooms.com/fr/courses/5543061-ecrivez-du-javascript-pour-le-web/5578156-ecoutez-des-evenements)

<Vimeo vimeoId="539127691" />

<br />

Afin de rÃ©agir lors d'un clic sur un bouton par un utilisateur, nous allons devoir Ã©couter les Ã©vÃ©nements.

### Qu'est-ce qu'un Ã©vÃ©nement ?

Un Ã©vÃ©nement est uneÂ **rÃ©action**Â Ã  uneÂ **action**Â Ã©mise par l'utilisateur, commeÂ le clic sur un bouton ou la saisie d'un texte dans un
formulaire.

Un Ã©vÃ©nement en JavaScript est reprÃ©sentÃ© par un nom (`click`, `mousemove`...) et une fonction que l'on nomme une `callback`. Un Ã©vÃ©nement est
par dÃ©fautÂ _propagÃ©,_Â c'est-Ã -dire que si nous n'indiquons pas Ã  l'Ã©vÃ©nement que nous le traitons, il sera transmis Ã  l'Ã©lÃ©ment parent, et ainsi
de suite jusqu'Ã  l'Ã©lÃ©ment racine.

Cette fonction `callback`, c'est nous qui allons la spÃ©cifier.Â Elle sera appelÃ©e Ã  chaque fois que l'action que l'on dÃ©sire suivre est exÃ©cutÃ©e.
CelaÂ signifieÂ que si l'on dÃ©sire suivre le clic sur un Ã©lÃ©ment, notre fonction sera appelÃ©e Ã  chaque fois que l'utilisateur cliquera sur cet
Ã©lÃ©ment.

### RÃ©agissez lors d'un clic sur un Ã©lÃ©ment

Afin de rÃ©agir lors d'un clic sur un Ã©lÃ©ment, il fautÂ _Ã©couter_Â cet Ã©vÃ©nement. Pour cela, nous avons Ã  notre disposition la fonction
`addEventListener()`. Cette fonction nous permet d'Ã©couter tous types d'Ã©vÃ©nements (pas que le clic).

:::info
RÃ©agir Ã  un Ã©vÃ©nement, c'est faire une action lorsque celui-ci se dÃ©clenche. Ã‰couter, c'est vouloir Ãªtre averti quand l'Ã©vÃ©nement se dÃ©clenche.
:::

`addEventListener(<event>, <callback>)`Â ([doc](https://developer.mozilla.org/fr/docs/Web/API/EventTarget/addEventListener)) prend en paramÃ¨tres
le nom de l'Ã©vÃ©nement Ã  Ã©couter ([voici la liste des Ã©vÃ©nements existants](https://developer.mozilla.org/fr/docs/Web/Events)), et la fonction Ã 
appeler dÃ¨s que l'Ã©vÃ©nement est exÃ©cutÃ©.

Voyons un exemple avec l'Ã©vÃ©nement "clic sur la souris".

#### L'Ã©vÃ©nement `onclick`

Admettons que vous vouliez rÃ©agir au clic sur un lien. Vous allez tout d'abord devoir rÃ©cupÃ©rer l'Ã©lÃ©mentÂ qui correspond Ã  votre lien, comme
nous l'avons vu prÃ©cÃ©demment.Â Ensuite, vous allez appeler la mÃ©thode `element.addEventListener('click', onClick);`Â directement sur cet Ã©lÃ©ment.

`onClick`Â correspond Ã  la fonction que vous allez dÃ©finir et qui sera appelÃ©e Ã  chaque fois que l'utilisateur cliquera sur votre lien. C'est
donc vous qui choisissez ce que vous souhaitez faire : rÃ©cupÃ©rer des informations depuis un serveur, afficher un message, etc. Le comportement
par dÃ©faut de l'Ã©lÃ©mentÂ _actionnÃ©_ sera tout de mÃªme exÃ©cutÃ©. Ainsi, s'il y a un clic sur un lien, vous pouvez, dans votre fonction deÂ _callback_,
faire en sorte d'afficher un message, mais le navigateur va ouvrir le lien. De la mÃªme maniÃ¨re, si le clic se fait sur un bouton de validation
de formulaire, celui-ci sera envoyÃ©. Il est possible deÂ _dÃ©sactiver_ ce comportement par dÃ©faut, c'est ce que nous allons voir juste aprÃ¨s. ğŸ˜€

Mais avant, voyons un petit exemple :

```javascript
const elt = document.getElementById('mon-lien'); // On rÃ©cupÃ¨re l'Ã©lÃ©ment sur lequel on veut dÃ©tecter le clic
elt.addEventListener('click', function() { // On Ã©coute l'Ã©vÃ©nement click
    elt.innerHTML = "C'est cliquÃ© !"; // On change le contenu de notre Ã©lÃ©ment pour afficher "C'est cliquÃ© !"
});
```

#### `preventDefault()`

Comme vous avez pu le voir si vous avez essayÃ© de rÃ©agir aux clics sur votre lien, votre fonction est bien appelÃ©e, mais la page change. En
effet, il s'agit d'un lien, et dÃ¨s que l'on clique sur un lien, le navigateur nous redirige sur la page vers laquelle il pointe.

:::note ?
Mais si on ne souhaite pas avoir ce comportement, afin de pouvoir faire autre chose Ã  la place, comme afficher un message,Â comment faire ?
:::

Il y a quelque chose dont je ne vous ai pas encore parlÃ©. Vous vous rappelez de votre fonction de callback ? Celle qui est appelÃ©e lorsque
l'utilisateur clique sur le lien ? Eh bien, en fait elle prend un paramÃ¨tre. CeÂ dernier correspond au contenu de l'Ã©vÃ©nement qui vient de se
produire, et il nous met Ã  disposition quelques fonctions et propriÃ©tÃ©s intÃ©ressantes.

Nous verrons plus en dÃ©tail comment fonctionne cet objet dans le prochain chapitre, mais sachez dÃ©jÃ  qu'il contient une fonction
`preventDefault()` qui fait exactement ce que l'on veut !

En appelant cette fonction dans votre callback, vous demandez au gestionnaire des Ã©vÃ©nements de ne pas exÃ©cuter le comportement par dÃ©faut de
votre Ã©lÃ©ment (qui est la redirection vers une autre page pour un lien). Et cela marche aussi pour d'autres types d'Ã©lÃ©ments que le lien. Cette
mÃªme fonction exÃ©cutÃ©e pendant un Ã©vÃ©nement `onsubmit`Â sur un formulaire empÃªchera le formulaire deÂ s'envoyerÂ au serveur, par exemple.

Si on reprend notre exemple prÃ©cÃ©dent, voici comment empÃªcher que notre navigateur ne change de page quand on clique sur le lien :

```javascript
// On rÃ©cupÃ¨re l'Ã©lÃ©ment sur lequel on veut dÃ©tecter le clic
const elt = document.getElementById('mon-lien');
// On Ã©coute l'Ã©vÃ©nement click, notre callback prend un paramÃ¨tre que
// nous avons appelÃ© event ici
elt.addEventListener('click', function(event) {
    // On utilise la fonction preventDefault de notre objet event pour empÃªcher
    // le comportement par dÃ©faut de cet Ã©lÃ©ment lors du clic de la souris
    event.preventDefault();
});
```

#### `stopPropagation()`

De la mÃªme maniÃ¨re que `preventDefault()`, `stopPropagation()`Â est une fonction de l'objet que votre fonction reÃ§oit en paramÃ¨tre. Son rÃ´le est
par contre trÃ¨s diffÃ©rent, car il nous permet d'empÃªcher la propagation de l'Ã©vÃ©nement vers son parent. En effet, lorsqu'un Ã©vÃ©nement est
dÃ©clenchÃ©, il est d'abord reÃ§u par l'Ã©lÃ©ment cible, mais il est ensuite remontÃ© vers les Ã©lÃ©ments parents qui sont aussi dans la cible.

Avec `stopPropagation()`, vous pouvez ainsi empÃªcher que d'autres Ã©lÃ©ments reÃ§oivent l'Ã©vÃ©nement.

Admettons par exemple que nous ayons un Ã©lÃ©ment pour lequel nous voulons afficher un message lorsque l'on clique dessus. MaisÂ Ã  l'intÃ©rieur de
cet Ã©lÃ©ment, nous avons aussi un autre Ã©lÃ©ment qui doit nous afficher un autre message lorsque l'on clique dessus.

Par dÃ©faut, si nous cliquons dans l'Ã©lÃ©ment intÃ©rieur, le message va s'afficher, puis notre Ã©lÃ©ment parent va lui aussi recevoir l'Ã©vÃ©nement du
clic et encore changer le message. Pour Ã©viter cela, nous devons stopper la propagation de l'Ã©vÃ©nement.

Ainsi, dans l'Ã©lÃ©ment intÃ©rieur, nous ferons ceci :

```javascript
elementInterieur.addEventListener('click', function(event) {
    event.stopPropagation();
    elementAvecMessage.innerHTML = "Message de l'Ã©lÃ©ment intÃ©rieur";
});
```

De cette maniÃ¨re, lorsque l'on clique sur l'Ã©lÃ©ment intÃ©rieur, l'Ã©lÃ©ment parent ne recevra plus le clic, et seul l'Ã©lÃ©ment intÃ©rieur affichera
son message. Par contre, en cliquant directement dans l'Ã©lÃ©ment parent, sans Ãªtre dans l'Ã©lÃ©ment intÃ©rieur, l'Ã©lÃ©ment parent recevra bien
l'Ã©vÃ©nement et affichera bien son message.

### Ã€ vous de jouerÂ !

![16189267631776_A-vous-de-jouer%20%282%29.png](https://user.oc-static.com/upload/2021/04/20/16189267631776_A-vous-de-jouer%20%282%29.png)

Voyons maintenant quelques cas d'utilisation pour mettre en pratique ces nouvelles connaissances.

EntraÃ®nez-vous sur [cet Ã©diteur automatique CodePen](https://codepen.io/nicolaspatschkowski/pen/yLNvXMx) en rÃ©alisant l'exercice suivant :
Nous souhaitons lancer une bataille de clics ! Nous avons unÂ articleÂ qui correspond Ã  notreÂ _parent_Â (ID `parent`), et nous avons un lien
(balise `a`) qui correspond Ã  notreÂ _enfant_Â (ID `child`). Le but est de cliquer soit dans le parent, soit dans l'enfant et d'afficher le
nombre de clics dans chaque Ã©lÃ©ment directement dans les Ã©lÃ©mentsÂ `#parent-count`Â etÂ `#child-count`.
1. Commencez par Ã©couter les Ã©vÃ©nementsÂ clickÂ depuis l'Ã©lÃ©mentÂ `#parent`. Puis affichez le nombre de clics dans l'Ã©lÃ©mentÂ `#parent-count`.
2. Faites la mÃªme chose mais avec l'Ã©lÃ©mentÂ `#child`. Il faudra afficher le nombre de clics sur cet Ã©lÃ©ment dans l'Ã©lÃ©mentÂ `#child-count`.
Maintenant, dÃ¨s queÂ vousÂ cliquez sur le parent ou l'enfant les compteurs se mettent Ã  jour. Mais vous avez sans doute remarquÃ© que lorsque
vous cliquez sur l'enfant, le compteur du parent se met aussi Ã  jour ?
3. Maintenant, faitesÂ de sorte Ã  ce que lorsque vous cliquez sur l'enfant, seul le compteur de l'enfant se mette Ã  jour.Â _N'oubliez pas que
l'Ã©lÃ©ment enfant se trouve Ã  l'intÃ©rieur de l'Ã©lÃ©ment parent._ Ã‡a ne se voit pas ici car nous sommes dans un environnement protÃ©gÃ©, mais en
rÃ©alitÃ©,Â `#child`Â est un lien. Et en sa qualitÃ© de lien, lorsque l'on clique dessus, le navigateur doit changer de page.
4. Ã‰vitez qu'un clic sur le lien neÂ vous fasse changer de page : supprimez ce comportement par dÃ©faut.

<CodePen codePenId="yLNvXMx" />

```javascript
let parentClicks = 0;
let childClicks = 0;

document
  .getElementById("parent")
  .addEventListener("click", function() {
  document
    .getElementById("parent-count")
    .innerText = (++parentClicks) + '';
});

document
  .getElementById("child")
  .addEventListener("click", function(e) {
  e.preventDefault();
  e.stopPropagation();
  
  document
    .getElementById("child-count")
    .innerText = (++childClicks) + '';
});
```

:::info
Retrouvez la solution dans ce [nouveau CodePen](https://codepen.io/fabienhenon/pen/MWbLOyd) et comparez avec ce que vous avez fait.
:::

<CodePen codePenId="MWbLOyd" />

### En rÃ©sumÃ©

Dans ce chapitre, nous avons appris :
- Ce qu'est un Ã©vÃ©nement ;
- Ã€Â Ã©couter un Ã©vÃ©nement ;
- Ã€Â annuler le comportement par dÃ©faut d'un Ã©vÃ©nement ;
- Ã€Â stopper la propagation d'un Ã©vÃ©nement.

_Nous venons de voir comment gÃ©rer les Ã©vÃ©nements simples, c'est-Ã -dire ceux qui n'ont pas de donnÃ©es (comme un clic). Mais vous devez vous
demander comment gÃ©rer des Ã©vÃ©nements plus complexes, commeÂ un Ã©vÃ©nement de mouvement de souris pour lequel on a besoin de connaÃ®tre sa position
sur la page._

_C'est ce que nous allons voir dans le prochain chapitre !_

-----

## RÃ©cupÃ©rez des donnÃ©es utilisateurs avec les Ã©vÃ©nements

[RÃ©cupÃ©rez des donnÃ©es utilisateurs avec les Ã©vÃ©nements - Ã‰crivez du JavaScript pour le web - OpenClassrooms](https://openclassrooms.com/fr/courses/5543061-ecrivez-du-javascript-pour-le-web/5578181-recuperez-des-donnees-utilisateurs-avec-les-evenements)

<Vimeo vimeoId="539127729" />

<br />

Nous savons Ã©couter un Ã©vÃ©nement, mais on ne sait pas encore comment rÃ©cupÃ©rer la position de la souris, ni mÃªme le texte saisi dans un
formulaire. C'est ce que nous allons voir maintenant avec les donnÃ©es liÃ©es aux Ã©vÃ©nements.

### Comprenez ce que sont les donnÃ©es liÃ©es Ã  un Ã©vÃ©nement

Comme nous l'avons vu briÃ¨vement dans le chapitre prÃ©cÃ©dent, lorsque l'on reÃ§oit un Ã©vÃ©nement, notre fonction callback reÃ§oit un paramÃ¨tre
contenant des informations sur cet Ã©vÃ©nement.

Ces informations sont reÃ§ues sous la forme d'un objet qui dÃ©pendra du type d'Ã©vÃ©nement reÃ§u.

De plus, chaque Ã©vÃ©nement implÃ©mente l'objet `Event`. C'est-Ã -dire que chaque Ã©vÃ©nement a au minimum les mÃªmes fonctions et propriÃ©tÃ©s que
l'objet `Event`.

Cela comprend entre autres :
- `preventDefault()`Â : empÃªche l'exÃ©cution du comportement par dÃ©faut de l'Ã©lÃ©ment quand il reÃ§oit l'Ã©vÃ©nement ;
- `stopPropagation()`Â : empÃªche la propagation de l'Ã©vÃ©nement vers d'autres Ã©lÃ©ments ;
- _D'autres propriÃ©tÃ©s en fonction du type d'Ã©vÃ©nement._

:::info
Pour avoir une liste exhaustive de ce que propose l'interface `Event`, vous pouvez aller voir sa [documentation](https://developer.mozilla.org/fr/docs/Web/API/Event).
:::

MaisÂ cela ne nous dit toujours pas comment on peut rÃ©cupÃ©rer la position de la souris quand elle bouge !

### DÃ©tectez le mouvement de la souris

Afin de dÃ©tecter le mouvement de la souris, il nous faut Ã©couter l'Ã©vÃ©nement `mousemove`Â ([doc](https://developer.mozilla.org/fr/docs/Web/Events/mousemove)).
Cet Ã©vÃ©nement nous fournit unÂ objet de type `MouseEvent`. C'est-Ã -dire que dÃ¨s que la souris bouge, notre fonction callback sera appelÃ©e avec
un paramÃ¨tre de type `MouseEvent`, qui contient les donnÃ©es sur le mouvement de la souris.

Voici, entre autres, ce que cet objet nous permet de rÃ©cupÃ©rerÂ :
- `clientX`Â / `clientY`Â : position de la souris dans les coordonnÃ©es locales (contenu duÂ DOM) ;
- `offsetX`Â / `offsetY`Â : position de la sourisÂ par rapport Ã  l'Ã©lÃ©ment sur lequel on Ã©coute l'Ã©vÃ©nement ;
- `pageX`Â / `pageY`Â : position de la souris par rapport au document entier ;
- `screenX`Â / `screenY`Â : position de la souris par rapport Ã  la fenÃªtre du navigateur ;
- `movementX`Â / `movementY`Â : position de la souris par rapport Ã  la position de la souris lors du dernier Ã©vÃ©nement `mousemove`.

Voici un exemple illustrant tout Ã§a :

```javascript
elt.addEventListener('mousemove', function(event) {
    const x = event.offsetX; // CoordonnÃ©e X de la souris dans l'Ã©lÃ©ment
    const y = event.offsetY; // CoordonnÃ©e Y de la souris dans l'Ã©lÃ©ment
});
```

### Lisez le contenu d'un champ texte

Je pense que vous commencez Ã  comprendre comment rÃ©cupÃ©rer les donnÃ©es d'un Ã©vÃ©nement, alors voyons un dernier exemple : la lecture du contenu
d'un champ texte lorsque l'utilisateur le modifie.

Prenons quelques minutesÂ pour revoir laÂ [liste des Ã©vÃ©nements](https://developer.mozilla.org/fr/docs/Web/Events)Â et essayons deÂ trouverÂ quels
Ã©vÃ©nements pourraient correspondre Ã  ce que l'on souhaite faire, c'est-Ã -dire dÃ©tecter les changements dans notre champ texte.

AprÃ¨s une brÃ¨ve recherche, on peut voir qu'il existe un Ã©vÃ©nement `change`. Si on regarde sa [documentation](https://developer.mozilla.org/en-US/docs/Web/Events/change),
on peut voir que c'est un Ã©vÃ©nement qui fonctionne avec les Ã©lÃ©ments de type `<input>`, `<select>`Â et `<textarea>`. Cet Ã©vÃ©nement est dÃ©clenchÃ©
lorsque le champ perd le focus, c'est-Ã -dire lorsque l'utilisateur passe Ã  autre chose en cliquant ailleurs et qu'il a fini sa saisie pour ce
champ. Cet Ã©vÃ©nement fonctionne aussi pour les cases Ã  cocher (`checkbox`) et les cases Ã  choix unique (`radio`).

<figure>
    <img src="https://user.oc-static.com/upload/2018/11/19/1542643692623_Capture%20d%E2%80%99e%CC%81cran%202018-11-19%20a%CC%80%2017.05.45%20copie.jpg"
         alt="La documentation de l'Ã©vÃ©nement change qui nous indique comment l'utiliser." />
    <figcaption>La documentation de l'Ã©vÃ©nement 'change'</figcaption>
</figure>

C'est donc un Ã©vÃ©nement qui semble parfait pour notre cas, car il nous permet exactement de dÃ©tecter que le texte saisi dans le champ a changÃ©.

EtÂ comme la documentation est bien faite, nous disposons d'exemples d'utilisation !

<figure>
    <img src="https://user.oc-static.com/upload/2018/11/19/15426438734542_Capture%20d%E2%80%99e%CC%81cran%202018-11-19%20a%CC%80%2017.10.31%20copie.jpg"
         alt="La documentation nous montre quelques exemples d'utilisation de l'Ã©vÃ©nement" />
    <figcaption>Exemple d'utilisation de `onchange`</figcaption>
</figure>

Ainsi, on apprend que pour rÃ©cupÃ©rer la valeur de notre champ une fois qu'il a Ã©tÃ© modifiÃ©, il suffit d'accÃ©der Ã  la valeur de l'Ã©lÃ©ment cible :
`event.target.value`. En effet, ici `target`Â correspond Ã  l'Ã©lÃ©ment sur lequel s'est produit l'Ã©vÃ©nement, c'est-Ã -dire un champ de type `<input>`
dans notre cas. Or, ce type d'Ã©lÃ©ment contient une propriÃ©tÃ© `value`Â qui permet de rÃ©cupÃ©rer ou dÃ©finir la valeur du champ. C'est aussi simple
que Ã§a !

`change`Â c'est bien, mais si je veux pouvoir avoir la valeur dÃ¨s que l'utilisateur ajoute ou supprime une lettre, comment je fais ?

Pour gÃ©rer ce cas, il existe aussi l'Ã©vÃ©nement `input`Â ([doc](https://developer.mozilla.org/en-US/docs/Web/Events/input)), qui fonctionne comme
`change`, sauf qu'il est dÃ©clenchÃ© dÃ¨s que le contenu du champ est modifiÃ©, mÃªme si l'utilisateur n'a pas encore fini de saisir ce qu'il
souhaite.

```javascript
input.addEventListener('input', function(event) {
    output.innerHTML = event.target.value;
});
```

### Ã€ vous de jouerÂ !

![16189267631776_A-vous-de-jouer%20%282%29.png](https://user.oc-static.com/upload/2021/04/20/16189267631776_A-vous-de-jouer%20%282%29.png)

Essayons maintenant de gÃ©rer un formulaire au travers de quelques exercices. Rendez-vous sur [cet Ã©diteur CodePen](https://codepen.io/nicolaspatschkowski/pen/MWwQoQZ)
pour rÃ©aliser l'exercice suivant:
Nous avons ici un formulaire et nous aimerions restituer les rÃ©ponses de notre formulaire dans l'Ã©lÃ©ment du dessous. De plus, nous voudrions
afficher la position de la souris quand elle se trouve dans cet Ã©lÃ©ment.
1. Ã‰coutez les Ã©vÃ©nements `input` sur l'Ã©lÃ©ment `#name` afin de savoir quand le contenu du champ texte est changÃ©. Affichez le contenu actuel
dans l'Ã©lÃ©ment `#res-name`.
2. Maintenant nous voulons Ã©couter l'Ã©vÃ©nement du changement de choix du genre (`#gender`), et afficher le rÃ©sultat dans l'Ã©lÃ©ment `#res-gender`.
3. Nous souhaitons maintenant afficher les coordonnÃ©es de la souris Ã  l'intÃ©rieur de l'Ã©lÃ©ment `#result` dÃ¨s que celle-ci passe par dessus. Ce
que nous voulons, c'est avoir les coordonnÃ©es relatives au coin en haut Ã  gauche de l'Ã©lÃ©ment `#result`.

<CodePen codePenId="MWwQoQZ" />

```javascript
document
  .getElementById("name")
  .addEventListener("input", function(e) {
    document
      .getElementById("res-name")
      .innerText = e.target.value;
});

document
  .getElementById("gender")
  .addEventListener("change", function(e) {
    document
      .getElementById("res-gender")
      .innerText = e.target.value;
});

document
  .getElementById("result")
  .addEventListener("mousemove", function(e) {
    document
      .getElementById("mouse-x")
      .innerText = e.offsetX;
    document
      .getElementById("mouse-y")
      .innerText = e.offsetY;
});
```

:::info
Et voici [la solution !](https://codepen.io/fabienhenon/pen/KKNJyaE)
:::

<CodePen codePenId="KKNJyaE" />

:::info
Comme nous l'avons fait durant ce chapitre, je ne peux que vous conseiller d'aller voir la documentation lorsque vous avez un doute. Elle peut
vous Ãªtre d'une trÃ¨s grande aide pour trouver ce que vous recherchez. Sinon, une simple recherche sur votre moteur de recherche favori suffit
dans 99% des cas.Â ![;)](https://openclassrooms.com/bundles/common/images/smiley/clin.png)
:::

### En rÃ©sumÃ©

Dans ce chapitre, vous avez appris :
- De quoi Ã©tait composÃ© un Ã©vÃ©nement ;
- Ã€Â utiliser les donnÃ©es de l'Ã©vÃ©nement pour rÃ©cupÃ©rer la position de la souris ;
- Ã€ utiliser les donnÃ©es de l'Ã©vÃ©nement pour rÃ©cupÃ©rer le texte d'un champ.

Nous venons de voir comment gÃ©rer des Ã©vÃ©nements plus complexes qui contiennent des donnÃ©es. Vous savez maintenant tout ce qu'il faut pour
manipuler le DOM et interagir avec vos utilisateurs.

_Il est maintenant temps d'aller plus loin en apprenant Ã  communiquer avec un serveur pour y lire ou y stocker des donnÃ©es (et pourquoi pas les
donnÃ©es que vous avez rÃ©cupÃ©rÃ©es de vos utilisateurs !)._

-----

## Quiz : Manipulez le DOM

[Manipulez le DOM - OpenClassrooms](https://openclassrooms.com/fr/courses/5543061-ecrivez-du-javascript-pour-le-web/exercises/3133)

#### CompÃ©tences Ã©valuÃ©es

<i class="bi bi-check2-circle"></i> Capter les Ã©vÃ©nements du DOM<br />
<i class="bi bi-check2-circle"></i> RÃ©cupÃ©rer et modifier des Ã©lÃ©ments du DOM

-----

#### Question 1 : Qu'est-ce que le DOM ?

<i class="bi bi-circle"></i> Un pays d'outre-mer<br />
<i class="bi bi-record-circle"></i> Une interface de programmation qui permet d'accÃ©der aux Ã©lÃ©ments d'une page web<br />
<i class="bi bi-circle"></i> Une interface de programmation pour faire des requÃªtes Ã  un service web<br />
<i class="bi bi-circle"></i> Un nouveau langage de programmation<br />
<br />

*Le DOM est une interface de programmation qui permet d'accÃ©der aux Ã©lÃ©ments d'une page web. Il peut Ãªtre vu comme un arbre avec 0 ou plusieurs
enfants qui sont chacun des Ã©lÃ©ments de la page web.*

-----

#### Question 2 : Que permet de rechercher cet extrait ?

```javascript
document.getElementById(â€œma-listeâ€)
```

<i class="bi bi-circle"></i> Tous les Ã©lÃ©ments ayant pour nom â€œma-listeâ€<br />
<i class="bi bi-circle"></i> Tous les Ã©lÃ©ments ayant pour classe â€œma-listeâ€<br />
<i class="bi bi-record-circle"></i> Lâ€™Ã©lÃ©ment ayant pour ID â€œma-listeâ€<br />
<br />

_Le nom de la fonction est assez expliciteÂ : `get` `element` `by` `id` , soit `obtenir un Ã©lÃ©ment via son ID`._

_Gardez en tÃªte que les ID sont uniques dans une page web et qu'il est donc normal de n'avoir qu'**UN** seul Ã©lÃ©ment en retour.Â ![;)](https://openclassrooms.com/bundles/common/images/smiley/clin.png)_

-----

### Question 3 : Que permet de rechercher cette requÃªte ?

```javascript
document.querySelector("article.important p")
```

<i class="bi bi-record-circle"></i> Le premier paragraphe trouvÃ© se trouvant dans un <code>article</code>Â ayant la classe <code>important</code>.<br />
<i class="bi bi-circle"></i> Tous les <code>articles</code>Â ayant la classe <code>important</code>Â qui sont dans des paragraphes.<br />
<i class="bi bi-circle"></i> Tous les paragraphes ayant la classe <code>important</code>Â et se trouvant dans un <code>article</code>.<br />
<i class="bi bi-circle"></i> Le premier article ayant la classe <code>important</code>Â et se trouvant dans un <code>article</code>.<br />0
<br />

*Pour que ce soit plus facile, un sÃ©lecteur CSS se lit deÂ droite Ã  gauche. Ainsi, quand on dÃ©compose, on obtientÂ :Â on veut le paragraphe
(`p`) quiÂ est dans l'`article`Â avec la classe `important`.*

-----

#### Question 4 : Que permet de faire cet extrait ?

```javascript
element.innerHTML = "<strong>Salut !</strong>";
```

<i class="bi bi-circle"></i> Modifier le contenu de <code>element</code> sous forme de texte<br />
<i class="bi bi-record-circle"></i> Modifier le contenu de <code>element</code> sous forme de HTML<br />
<i class="bi bi-circle"></i> Ce code affichera une erreur car il nâ€™est pas possible de dÃ©finir du HTML dans le contenu dâ€™un Ã©lÃ©ment<br />
<i class="bi bi-circle"></i> Remplacer <code>element</code> par le contenu HTML <code><strong>Salut !</strong></code><br />
<br />

_La propriÃ©tÃ© `innerHTML` permet bien de modifier le contenu HTML de l'Ã©lÃ©ment. Si on avait utilisÃ© `textContent`, on aurait aussi modifiÃ© le
contenu d'un Ã©lÃ©ment mais uniquement avec du texte, pas du HTML._

-----

#### Question 5 : Que fait cet extrait ?

```javascript
element.classList.add("hello")
```

<i class="bi bi-circle"></i> Il supprime la classe "hello" Ã  <code>element</code><br />
<i class="bi bi-circle"></i> Il remplace la classe actuellement de <code>element</code> par "hello"<br />
<i class="bi bi-record-circle"></i> Il ajoute une classe "hello" Ã  <code>element</code><br />
<br />

_La gestion des classes d'un Ã©lÃ©ment se fait via la propriÃ©tÃ© `classList`. La fonction pour ajouter une classe est `add`. Cette fonction
permet donc dâ€™ajouter une nouvelle classe Ã  lâ€™Ã©lÃ©ment._

_On pourra aussi, depuis lâ€™objet `classList`, supprimer une classe (avec `remove`), et activer/dÃ©sactiver une classe (avec `toggle`). Pour
plus dâ€™informations, je vous invite Ã  lire la [documentation de classList](https://developer.mozilla.org/fr/docs/Web/API/Element/classList)._

-----

#### Question 6 : Que fait cet extrait ?

```javascript
document.getElementById("parent").appendChild(document.createElement("article"))
```

<i class="bi bi-record-circle"></i> Il crÃ©e un Ã©lÃ©ment de type <code>article</code>Â dans un Ã©lÃ©ment ayant pour ID "parent"<br />
<i class="bi bi-circle"></i> Il crÃ©e un Ã©lÃ©ment de type <code>parent</code>Â dans un Ã©lÃ©ment ayant pour ID "article"<br />
<i class="bi bi-circle"></i> Il nâ€™est pas valide<br />
<br />

_On ajoute un Ã©lÃ©ment de type `article` nouvellement crÃ©Ã©, dans un Ã©lÃ©ment ayant pour ID `parent`._

_DÃ©composons ce code :_
- _On sÃ©lectionne lâ€™Ã©lÃ©ment ayant pour ID `parent`Â (`getElementById`)._
- _On crÃ©e un nouvel Ã©lÃ©ment de type `article` (`createElement`)._
- _On ajoute cet Ã©lÃ©ment Ã  notre `parent` (`appendChild`)._

-----

#### Question 7 : Que fait cet extrait, sachant que myLink est un Ã©lÃ©ment de type `a` ?

```javascript
myLink.addEventListener("click", function(e) {
    e.preventDefault();
});
```

<i class="bi bi-circle"></i> Il Ã©coute le clic sur myLink et empÃªche sa propagation Ã  son parent<br />
<i class="bi bi-record-circle"></i> Il Ã©coute le clic sur myLink et annule son comportement par dÃ©faut<br />
<i class="bi bi-circle"></i> Il ne fait rien, le nom de lâ€™Ã©vÃ©nement nâ€™est pas bon<br />
<i class="bi bi-circle"></i> Il ne fait rien, Â `preventDefault()`Â  nâ€™est pas une fonction qui existe<br />
<i class="bi bi-circle"></i> Il Ã©coute le clic sur myLink puis redirige la page vers lâ€™URL du lien<br />
<br />

_La fonction pour annuler un comportement par dÃ©faut est `preventDefault()`. On Ã©coute bien l'Ã©vÃ©nement `click` pour savoir si on a cliquÃ© sur
un Ã©lÃ©ment._

-----

#### Question 8 : Que fait cet extrait, sachant que mySelect est un Ã©lÃ©ment de type `select` et que `result` est une simple `div` ?

```javascript
mySelect.addEventListener("change", function(e) {
    result.innerHTML = e.target.value;
});
```

<i class="bi bi-record-circle"></i> Il rÃ©cupÃ¨re la valeur de la liste de sÃ©lection dÃ¨s quâ€™elle change, et la met en contenu de lâ€™Ã©lÃ©ment result<br />
<i class="bi bi-circle"></i> Il ne fait rien, lâ€™Ã©vÃ©nement â€œchangeâ€ nâ€™existe pas pour les select<br />
<i class="bi bi-circle"></i> Il copie lâ€™Ã©lÃ©ment select dans lâ€™Ã©lÃ©ment result<br />
<br />

*Lâ€™Ã©vÃ©nement qui est appelÃ© Ã  chaque changement de valeur dans nos formulaires est bien `change`. Il est appelÃ© dÃ¨s qu'un Ã©lÃ©ment dans un
`select`Â est sÃ©lectionnÃ©. Ensuite on modifie bien le contenu de `result` en rÃ©cupÃ©rant la valeur sÃ©lectionnÃ©e grÃ¢ce Ã  `e.target.value`.*

