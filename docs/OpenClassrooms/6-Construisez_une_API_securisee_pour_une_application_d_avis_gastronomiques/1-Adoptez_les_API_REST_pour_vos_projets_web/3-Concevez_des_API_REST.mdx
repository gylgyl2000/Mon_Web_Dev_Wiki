---
sidebar_position: 4
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import { Vimeo } from 'mdx-embed';

# Concevez des API REST

## DÃ©finissez la structure de votre API REST

[DÃ©finissez la structure de votre API REST - Adoptez les API REST pour vos projets web - OpenClassrooms](https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6824631-definissez-la-structure-de-votre-api-rest)

<Vimeo vimeoId="390934099" />

<br />

### PrÃ©parez-vous Ã  concevoir votre propre API REST

Maintenant que vous avez vu comment **utiliser** une API externe, parlons davantage de quand et comment **construire** concrÃ¨tement une API
REST vous-mÃªme.

Pourquoi aurais-je besoin de construire ma propre API RESTâ€‰? Je ne peux pas utiliser lâ€™une de ces milliers dâ€™API qui existent et dont tu nous
as parlÃ© dans la derniÃ¨re partie ? ğŸ¤”

Il existe deux raisons **principales** pour lesquelles vous pourriez vouloir dÃ©velopper votre propre API :
1. Si vous construisez votre propre application web ou mobile, par exemple pour des recettes de cuisine, oÃ¹ vous savez que vous devrez
**sauvegarder et manipuler beaucoup de donnÃ©es**. ğŸ³ Vous auriez absolument besoin dâ€™une base de donnÃ©es, mais il nâ€™est pas souhaitable que les
dÃ©veloppeurs front-end aient besoin de connaÃ®tre SQL pour pouvoir afficher les informations sur votre UI. Vous voulez aussi respecter les
normes pour les applications web pour quâ€™il y ait une couche API entre votre base de donnÃ©es et lâ€™accÃ¨s Ã  vos donnÃ©es. Vous ne voulez pas que
nâ€™importe quel dÃ©veloppeur soit en capacitÃ© dâ€™accÃ©der directement Ã  votre base de donnÃ©es, pour des questions de sÃ©curitÃ© et de confidentialitÃ©.
Et vous voulez une maniÃ¨re rapide et efficace de rechercher et requÃªter les donnÃ©es existantes. Pour ce faire, vous aurez besoin dâ€™une API
interne.
2. Si vous construisez une application web ou mobile oÃ¹ **vous voulez que dâ€™autres dÃ©veloppeurs soient en capacitÃ© dâ€™interagir avec vos donnÃ©es**.
Par exemple, une application oÃ¹ vous collectez des donnÃ©es sur les personnages de votre sÃ©rie tÃ©lÃ© favorite et oÃ¹ vous voulez que dâ€™autres
dÃ©veloppeurs puissent ajouter et utiliser des donnÃ©es.

:::info
UI signifie User Interface ou interface utilisateur en franÃ§ais. Le terme UI fait rÃ©fÃ©rence Ã  lâ€™interface utilisateur par le biais de laquelle
lâ€™utilisateur interagit, que ce soit un site internet, un logiciel ou une application mobile.
:::

### Lancez-vous dans la conception de votre API

Comme pour toute chose un peu compliquÃ©e, un **design** rÃ©flÃ©chi et structurÃ© est essentiel pour obtenir un succÃ¨s sur le long terme. Câ€™est
peut-Ãªtre facile de commencer par tout construire tout de suite en fonÃ§ant tÃªte baissÃ©e, mais avant de vous ruer sur votre clavier, vous devez
rÃ©flÃ©chir aux concepts de design-clÃ©s qui rendront votre API plus **agrÃ©able dâ€™utilisation** et plus **facile Ã  scaler.**

:::info
Scaler vient de lâ€™anglais to scale et signifie en quelques mots la capacitÃ© de votre application/logiciel/site internet Ã  sâ€™adapter et Ã 
fonctionner mÃªme en cas de forte augmentation soudaine du trafic,Â de demandes ou juste dâ€™un grand nombre de fonctionnalitÃ©s implÃ©mentÃ©es.
:::

:::note ?
OK allons-y. Par quoi commence-t-on ? ğŸ¤”
:::

Allons-y Ã©tape par Ã©tape. Commencez d'abord par vous poser des questions sur les fonctionnalitÃ©s importantes dont vous avez besoin pour votre
API :
- De quel type dâ€™endpoints avez-vous besoinâ€‰?
- Quelles ressources devez-vous crÃ©erâ€‰?
- De quelles ressources avez-vous besoin pour y effectuer les opÃ©rations **CRUD** ?
- Avez-vous besoin des quatre opÃ©rations **CRUD** pour chaque ressourceâ€‰? Ou seulement dâ€™une ou deuxâ€‰?

Une fois que vous aurez rÃ©pondu Ã  ces questions, vous serez prÃªt Ã  commencer Ã  prÃ©parerâ€¦ votre documentation.

### Documentez toute la journÃ©e : dÃ©couvrez pourquoi une documentation adaptÃ©e est essentielle

:::note ?
Attends, on n'est pas censÃ© crÃ©er une API ? Pourquoi est-ce que la documentation arrive tout de suite, on peut la faire Ã  la fin non ? ğŸ™„
:::

Non, non, non ! Lors des chapitres prÃ©cÃ©dents nous avons dÃ» consulter la documentation GitHub afin de pouvoir utiliser lâ€™API comme il se doit.
Sans toutes les informations de la documentation, nous aurions eu du mal Ã  avoir le bon endpoint ou savoir quels paramÃ¨tres prÃ©ciser...
La documentation est une des partie **les plus importantes** des API ! Quand vous crÃ©ez une API, vous devez Ã©galement tenir compte des
**autres dÃ©veloppeurs** qui utilisent votre API. Cela implique dâ€™avoir une bonne **documentation** pour quâ€™ils puissent facilement comprendre
ce que votre API peut accomplir et comment lâ€™utiliser.

Comme vous lâ€™avez vu avec la documentation GitHub, de nombreuses informations doivent Ãªtre expliquÃ©es Ã  votre utilisateur API. Elles incluent :
1. Les descriptions des ressources API.
2. Les URI et verbes HTTP disponibles ainsi que leur fonction.
3. Les paramÃ¨tres (sâ€™il y en a) qui doivent Ãªtre donnÃ©s Ã  lâ€™endpoint.
4. Un exemple de requÃªte.
5. Une rÃ©ponse typique pour la requÃªte donnÃ©e.

Chaque API organise la documentation de maniÃ¨re lÃ©gÃ¨rement diffÃ©rente, mais voici quelques bons exemples pour vous aider.

#### Documentation de lâ€™API Stripe

Dans [lâ€™API de Stripe](https://stripe.com/docs/api) vous pouvez clairement voir que la documentation dÃ©crit lâ€™URL de la ressource et les
informations pertinentes que les dÃ©veloppeurs doivent pouvoir comprendre.

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343004171489_image11.png"
         alt="Un exemple dans la documentation de Stripe" />
    <figcaption>Un exemple dans la documentation de Stripe</figcaption>
</figure>

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343004670458_image24.png"
         alt="Un exemple dans la documentation de Stripe" />
    <figcaption>Un exemple dans la documentation de Stripe</figcaption>
</figure>

La [documentation](https://stripe.com/docs/api/charges/create) montre Ã©galement un exemple de rÃ©ponse aux requÃªtes API :

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343005147954_image46.png"
         alt="Un exemple de rÃ©ponse dans la documentation Stripe" />
    <figcaption>Un exemple de rÃ©ponse dans la documentation Stripe</figcaption>
</figure>

#### Documentation de lâ€™API Pinterest

Lâ€™[API Pinterest](https://developers.pinterest.com/docs/api/pins/) contient un bon exemple dâ€™affichage dâ€™un verbe HTTP, dâ€™un URI, de
paramÃ¨tres, et dâ€™une description de la fonction de lâ€™endpoint.Â 

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343005723491_image27.png"
         alt="Documentation de lâ€™API Pinterest : tableau en 3 colonnes Definition, Parameters et Description." />
    <figcaption>Documentation de lâ€™API Pinterest</figcaption>
</figure>

La documentation donne de nombreuses informations sur les endpoints et les requÃªtes, mais elle se doit aussi de documenter la gestion des
erreurs.

### GÃ©rez les erreurs ğŸ™…â€â™€ï¸

Comme nous lâ€™avons vu dans les chapitres prÃ©cÃ©dents, une requÃªte peut Ãªtre un succÃ¨s mais aussi un Ã©chec, et ce pour diverses raisons :
ressource introuvable, serveur indisponibleâ€¦ Votre API doit avoir une bonne **gestion des erreurs**. Si un dÃ©veloppeur essaye accidentellement
dâ€™utiliser votre API pour un usage non souhaitÃ© (authentification incorrecte, lettres inutiles ajoutÃ©es Ã  une requÃªte), votre API doit Ãªtre
capable de dire Ã  lâ€™utilisateur quelle a Ã©tÃ© son erreur pour quâ€™il puisse la corriger. Et oui, personne nâ€™est Ã  lâ€™abri dâ€™une faute de frappe !
Le code HTTP donne une information sur le type dâ€™erreur mais est gÃ©nÃ©ralement accompagnÃ© dâ€™un message dâ€™erreur dans le body de rÃ©ponse.

Vous avez vu Ã  quoi ressemblaient certaines erreurs dans lâ€™API GitHub lorsque nous avons voulu crÃ©er un repository dans la derniÃ¨re partie.
Souvenez-vous, quand nous avons essayÃ© dâ€™effectuer une requÃªte sans notre token dâ€™authentification, nous avons reÃ§u la rÃ©ponse suivante :

```json
{
    "message": "Requires authentication",
    "documentation_url": "https://developer.github.com/v3/repos/#edit"
}
```

Câ€™est ainsi que grÃ¢ce au message dâ€™erreur nous avons su que nous avions oubliÃ© notre code dâ€™authentificationâ€‰! Il existe de nombreux types
dâ€™erreurs diffÃ©rents pouvant se produire dans votre API qui, si elles sont gÃ©rÃ©es correctement, peuvent faciliter la vie des dÃ©veloppeurs
lorsquâ€™ils utilisent votre API. ğŸ’ª

Lâ€™[API de Meetup](https://www.meetup.com/fr-FR/meetup_api/docs/?uri=%2Fmeetup_api%2Fdocs%2F) contient un bon exemple de toutes les erreurs
diffÃ©rentes qui peuvent se produire quand vous utilisez leur API et ce quâ€™elles signifient :

Toutes les erreurs possibles de lâ€™API Meetup

|     |     |
|-----|-----|
| announce_error | Erreur dans lâ€™annonce dâ€™un Ã©vÃ©nement |
| description_error | DÃ©solÃ©, votre description Meetup est trop longue |
| duration_error | La durÃ©e de cet Ã©vÃ©nement nâ€™est pas valide. |
| event_error | Lâ€™ID fourni ne correspond pas Ã  un Ã©vÃ¨nement pouvant Ãªtre modifiÃ© |
| event_hosts_error | Un ou plusieurs des membres donnÃ©s ne sont pas des membres actifs de ce groupe |
| featured_photo_id_error | Il y a un problÃ¨me avec la photo fournie. |
| fee.amount_error | Si le groupe se trouve aux Ã‰tats-Unis, le montant Ã  acquitter ne peut pas excÃ©der 4999. Sinon, il ne peut pas excÃ©der 1â€‰000â€‰000. |
| fee.refund_policy_error | La politique de remboursement de fonds ne peut pas excÃ©der 250. |
| guest_limit_error | Le nombre dâ€™invitÃ©s maximum nâ€™est pas valide. |
| how_to_find_us_error | Votre description Â«â€‰Comment nous retrouverâ€‰Â» est trop longue. |

Une partie nÃ©cessaire et importante lors de la conception de votre API est la rÃ©flexion sur les possibilitÃ©s de mauvaise utilisation par les
utilisateursâ€‰! Ainsi en fonction de lâ€™erreur, vous pouvez renvoyer le message appropriÃ© dans la rÃ©ponse.

#### En rÃ©sumÃ©

- Vous pouvez construire une API soit pour lâ€™utiliser dans votre propre application, soit pour que dâ€™autres dÃ©veloppeurs puissent interagir
avec vos donnÃ©es.
- Il est important en concevant une API de penser Ã  toutes les fonctionnalitÃ©s nÃ©cessaires avant de commencer Ã  la dÃ©velopper.
- La documentation et une bonne gestion des erreurs sont importantes pour que dâ€™autres dÃ©veloppeurs puissent comprendre votre API.

_Maintenant que vous avez les bases, concevez les endpoints de votre API. OK, mais comment faire ? Voyons cela ensemble dans le chapitre
suivant._

-----

## Concevez les endpoints de votre API

[Concevez les endpoints de votre API - Adoptez les API REST pour vos projets web - OpenClassrooms](https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6824856-concevez-les-endpoints-de-votre-api)

<Vimeo vimeoId="390934149" />

<br />

Lors de la crÃ©ation dâ€™une API, il est important de ne pas se lancer tÃªte baissÃ©e et de rÃ©flÃ©chir Ã  lâ€™architecture de votre API, quitte Ã  tout
poser sur papier avant. Quel sera le rÃ´le de votre API ? Quelles seront les ressources ? Quels seront les diffÃ©rents accÃ¨s autorisÃ©s pour les
utilisateurs ?

Bien structurer votre API dÃ¨s le dÃ©but de sa conception vous permettra dâ€™anticiper les erreurs mais aussi dâ€™avoir une API plus solide et mieux
conÃ§ue.

Dans ce chapitre, vous ne coderez pas une API mais allez la concevoir. Câ€™est un exercice de rÃ©flexion, afin de vous prÃ©parer au mieux Ã  la
crÃ©ation dâ€™une API.

### Concevez une API de partage de photos

Dans cette partie, nous allons rÃ©flÃ©chir Ã  la maniÃ¨re de concevoir une API pour une application de partage de photos nommÃ©e InstaPhoto. ğŸ“¸ Nous
voulons que les utilisateurs puissent publier et partager des photos avec leurs amis, commenter les photos des autres, crÃ©er des hashtags,
rechercher des photos par localisation, la totale, le grand jeu !

Prenez une minute pour Ã©crire ce Ã  quoi vous avez besoin de rÃ©flÃ©chir lors de la conception dâ€™une API pour InstaPhoto. De quelles **ressources**
avez-vous besoinâ€‰? Quels **URI** seraient comprÃ©hensibles par dâ€™autres dÃ©veloppeurs ? Câ€™est aussi une belle occasion de revoir ce que vous avez
appris dans les parties prÃ©cÃ©dentes â€‰!

Voici quelques exemples de **ressources** dont vous aurez absolument besoin :
- Photo ;
- User ;
- Location (_localisation_, en franÃ§ais) ;
- Post.

Ã€ partir de lÃ , vous pouvez commencer Ã  rÃ©flÃ©chir Ã  des questions importantes, comme celles-ci :
- Quels endpoints auront besoin dâ€™autorisationsâ€‰?
- Quelles ressources voulez-vous pouvoir mettre Ã  jourâ€‰?
- Aurez-vous besoin de pouvoir modifier des publications aprÃ¨s leur crÃ©ationâ€‰?
- Les commentaires doivent-ils pouvoir Ãªtre supprimÃ©sâ€‰?
- Avez-vous besoin de toutes les opÃ©rations CRUD pour chaque ressourceâ€‰? Ou seulement dâ€™une ou deuxâ€‰? Lesquelles ?

Il nâ€™y a pas de bonne ou de mauvaise rÃ©ponse ici â€“ cela dÃ©pend simplement de lâ€™application InstaPhoto que vous voulez dÃ©velopperâ€‰! Ã€ vous de
choisir ! âœ¨

### CrÃ©ez vos endpoints

Lors de la conception dâ€™endpoints, le **naming** (ou _nommage_, en franÃ§ais) est un Ã©lÃ©ment clÃ©. Vous voulez que les dÃ©veloppeurs qui
lâ€™utilisent comprennent naturellement ce que chaque endpoint est censÃ© faire. Les conventions de naming actuelles demandent dâ€™inclure
uniquement la **ressource** que vous voulez mettre Ã  jour, et non le **verbe** que vous voulez mettre en Å“uvre.

Pour faire simple, utilisez _uniquement_ le **nom de la ressource** dans lâ€™URI, car lâ€™action se trouve dÃ©jÃ  dans le verbe HTTP. Cela donnerait :
- POST /photo
- PUT /photo
- GET /photo

Puisque que le **verbe** de lâ€™action est dÃ©jÃ  inclus dans la requÃªte HTTP, il nâ€™est pas nÃ©cessaire de le prÃ©ciser lors de la conception des
endpoints.

Pour que vous puissiez mieux comprendre, des endpoints mal nommÃ©s ressembleraient Ã  ceci :
- POST /createPhoto
- PUT /updatePhoto
- GET /getPhoto

### Simulez des endpoints supplÃ©mentaires

ConsidÃ©rons les endpoints possibles pour notre InstaPhoto.

Ici aussi, il nâ€™y a pas de bonne ou de mauvaise rÃ©ponse, cela dÃ©pend simplement des besoins de votre application et de la faÃ§on dont vous
voulez la concevoir.

Imaginons que vous vouliez que les utilisateurs soient en capacitÃ© de crÃ©er, voir et supprimer des photos â€“ mais pas de les modifier une fois
publiÃ©es. Tous ces Ã©lÃ©ments nÃ©cessitent Ã©galement une authentification, car vous ne voudriez pas que les utilisateurs puissent publier, modifier
ou supprimer des photos qui ne leur appartiennent pasâ€‰! ğŸ”

Maintenant, prenez une feuille de papier et Ã©crivez quelques endpoints pour **crÃ©er, voir et supprimer des photos**. Rappelez-vous que vous
voudrez peut-Ãªtre spÃ©cifier une photo en particulier Ã  visionner et Ã  mettre Ã  jour, nonâ€‰? ğŸ˜‰ Une fois que vous aurez fini, regardez juste
en-dessous si ce que vous avez Ã©crit correspond Ã  mes rÃ©ponses.

:::info
Alors, curieux de connaÃ®tre mes rÃ©ponses ? Rendez-vous [**ici**](https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+endpoints.pdf).

<embed style={{width: "100%", height: "667px" }} src="https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+endpoints.pdf"></embed>
:::

Vu que lâ€™on veut gÃ©nÃ©ralement voir ou supprimer des photos en particulier, le fait dâ€™ajouter un ID pour les deux derniers endpoints est logique.
Il permet Ã  lâ€™API de savoir de quelle photo il sâ€™agit.

Et maintenant, vos utilisateursâ€‰! De quels verbes HTTP aurez-vous besoin pour un compte utilisateurâ€‰? ğŸ¤” Et puis, mÃªme si vous ne voulez pas
que les utilisateurs puissent modifier leurs photos une fois quâ€™elles sont dÃ©jÃ  crÃ©Ã©es, il doivent au moins pouvoir **modifier leur profil
utilisateur** ! Par ailleurs, vous voulez quâ€™ils puissent **voir les informations disponibles publiquement sur un utilisateur** sans
authentification (exactement comme lâ€™API GitHub) ; donc pour cet endpoint, vous nâ€™aurez pas besoin dâ€™authentification. Quelles sortes
dâ€™endpoint pourriez-vous concevoir pour celaâ€‰?

:::info
Retrouvez mes rÃ©sultats [**ici**](https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+utilisateurs.pdf).

<embed style={{width: "100%", height: "667px" }} src="https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+utilisateurs.pdf"></embed>
:::

Et maintenant, les commentaires â€‰! Comment les ajouterâ€‰? Si vous voulez que les utilisateurs puissent commenter les photos dâ€™un autre
utilisateur, il vous faudra imbriquer une ressource dans une autre. Et ce, parce quâ€™un commentaire doit Ãªtre associÃ© Ã  une photo spÃ©cifique.
Par exemple, imaginons que vous vouliez crÃ©er un nouveau commentaire pour une photo avec ID. Vous pourriez crÃ©er lâ€™endpoint POST
/photos/{photoId}/comments. Utilisez POST parce que vous crÃ©ez quelque chose. Ensuite, travaillez en arriÃ¨re : crÃ©ez un commentaire (/comments)
pour une photo spÃ©cifique (/{photoId}) parmi toutes les autres photos (/photos).

Et maintenant, voici une description de trois endpoints supplÃ©mentaires que vous devrez crÃ©er :
- obtenir tous les commentaires pour une photo spÃ©cifique avec lâ€™ID {photoId} ;
- obtenir le commentaire avec lâ€™ID {commentId} pour la photo avec lâ€™ID {photoId} ;
- supprimer le commentaire avec lâ€™ID {commentId} pour la photo avec lâ€™ID {photoId}.

Vous ne voulez pas que les commentaires soient modifiables, nâ€™incluez donc pas dâ€™endpoint pour cela. Essayez dâ€™Ã©crire les endpoints pour ces
trois Ã©lÃ©ments.

:::info
Vous trouverez mes rÃ©ponses [**ici**](https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+nouveaux+endpoints.pdf).

<embed style={{width: "100%", height: "667px" }} src="https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6824856/Solution+nouveaux+endpoints.pdf"></embed>
:::

Tous ces endpoints nÃ©cessitent une authentification, car ils doivent seulement Ãªtre modifiables par lâ€™utilisateur qui les a crÃ©Ã©s, et non les
autres. Et vous pourriez adopter le mÃªme mode de raisonnement pour toutes les autres ressources dont vous aurez besoin.

:::info
Rappel : ici, nous avons seulement conÃ§u les endpoints. Les informations supplÃ©mentaires comme par exemple le contenu du commentaire, ou le nom
de lâ€™utilisateur que vous souhaitez modifier, seront contenus dans le body.
:::

### En rÃ©sumÃ©

- Lors de la planification, pensez Ã  quelles opÃ©rations CRUD seront nÃ©cessaires aux ressources.
- Utilisez des noms de ressources et non des verbes en nommant les endpoints.
- Pensez aux ressources que vous devrez imbriquer _dans_ dâ€™autres ressources.
- Pensez aux ressources qui nÃ©cessiteront une authentification.

_Vous avez la liste des opÃ©rations CRUD nÃ©cessaires, vos ressources et leur nom, les ressources complÃ©mentaires, celles qui nÃ©cessiteront une
authentification, la liste de vos endpoints. Votre base est solide, mais vous pouvez approfondir le tout avec la recherche, par exemple. Passez
au chapitre suivant, nous allons Ã©toffer nos endpoints grÃ¢ce Ã  quelques fonctionnalitÃ©s avancÃ©es !_

-----

## Utilisez les fonctionnalitÃ©s avancÃ©es des endpoints

[Utilisez les fonctionnalitÃ©s avancÃ©es des endpoints - Adoptez les API REST pour vos projets web - OpenClassrooms](https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6825136-utilisez-les-fonctionnalites-avancees-des-endpoints)

<Vimeo vimeoId="390934206" />

<br />

Jusquâ€™Ã  prÃ©sent, nous avons uniquement vu des endpoints basiques pour obtenir une liste de ressources ou une ressource unique par ID. Mais il
existe tellement **plus** de possibilitÃ©s avec les API â€‰! ğŸ’ª Selon la maniÃ¨re dont vous concevez vos URI, vous pouvez crÃ©er des requÃªtes plus
complexes comme la recherche, le classement, et plus encore. Nous reprendrons lâ€™application InstaPhoto ğŸ“¸ pour dÃ©cider de quels types dâ€™URI
complexes vous aurez besoin.

### Filtrez

Et si vous vouliez que vos utilisateurs puissent rechercher des photos pour des lieux particuliers ? Faites entrer les filtres ! Vous pourriez
concevoir un endpoint comme celui-ci :

```shell
GET /photos?location={locationId}
```

Ce â€‰â€?â€ est nouveauâ€‰! Le point dâ€™interrogation est un moyen pour lâ€™API de savoir que vous passez un **paramÃ¨tre**. Un paramÃ¨tre est une donnÃ©e
qui sera manipulÃ©e, utilisÃ©e dâ€™une certaine maniÃ¨re par le client, le serveur ou le programme informatique visÃ© : ici, lâ€™API. Il vous permet de
crÃ©er une requÃªte qui peut changer selon le terme recherchÃ©. Dans ce cas, vous voulez que les utilisateurs puissent rechercher une location
(ou un lieu) Ã©gale Ã  = locationId. Ainsi, vous pouvez Ã©crire tout ID de lieu dans le paramÃ¨tre de requÃªte, et vous pourrez voir des photos de
ce lieu. ğŸ™ğŸŒ

:::note ?
Attends â€“ je pensais que ces valeurs Ã©taient uniquement appelÃ©es _endpoints_ quand elles contenaient le nom de domaine et lâ€™URI !
:::

Câ€™est une bonne remarque. Oui, les URI sont le chemin de la ressource, et un endpoint correspond au nom de domaine plus le chemin de la
ressource.

### Recherchez

La recherche vous permet de faire une requÃªte sur une liste de ressources correspondant Ã  votre requÃªte de recherche. OK, alors admettons que
vous vouliez avoir un endpoint oÃ¹ les utilisateurs peuvent rechercher toutes les photos qui ont un quelconque rapport avec le snowboard ğŸ‚.
Votre endpoint pourrait Ãªtre celui-ci :

```shell
GET /photos?search=snowboard
```

Si vous avez dÃ©jÃ  utilisÃ© la fonctionnalitÃ© de recherche sur Twitter, vous avez pu constater que leur API de recherche fonctionne de faÃ§on trÃ¨s
similaire â€‰!

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343012047223_image57.png"
         alt="Lâ€™API de recherche de Twitter â€‰: l'URL, la fonctionnalitÃ© de recherche et le rÃ©sultat de la page sont encadrÃ©s en vert." />
    <figcaption>Lâ€™API de recherche de Twitter !</figcaption>
</figure>

:::note ?
Quelle est la diffÃ©rence entre le filtrage et la recherche, alors ? ğŸ¤”
:::

Câ€™est une question courante, qui dÃ©pend de la faÃ§on dont on trouve un Ã©lÃ©ment. Pour filtrer, vous partez dâ€™un Ã©lÃ©ment plus petit et plus
spÃ©cifique et vous collectez tous les items qui correspondent Ã  cette valeur. Par exemple : vous allez chercher toutes les sÃ©ries comiques qui
commencent par la lettre C. Dans ce cas, vous filtrez.

La recherche constitue une approche plus large et Ã©largit votre pÃ©rimÃ¨tre Ã  toute chose associÃ©e Ã  une certaine valeur.

### Triez

Disons que vous voulez que vos utilisateurs voient tous leurs followers par ordre alphabÃ©tique ascendant et par nom de famille. Ce qui est
assez complexe. Vous pouvez crÃ©er un endpoint pour celaâ€‰!

```shell
GET /users/{userId}/followers?sort=lastName&order=asc
```

Le & est nouveau ici ! Il vous permet dâ€™**enchaÃ®ner** diffÃ©rentes requÃªtes ensembleâ€‰! Par exemple, vous pouvez trier les utilisateurs par
lastName (nom de famille) en **ordre ascendant**. Vous avez dÃ©jÃ  vu un rÃ©sultat triÃ© quand vous naviguez sur le web. Mais si ! Dâ€™habitude, vous
voulez voir les publications les plus **rÃ©centes** sur Twitter ou Instagram â€“ ce qui constitue en fait un **tri par date** !

Vous pouvez enchaÃ®ner tous types de requÃªtes diffÃ©rentes entre elles. Par exemple, si vous voulez voir tous les utilisateurs vÃ©rifiÃ©s avec le
prÃ©nom (firstName) Jamie, vous pouvez faire la requÃªte suivante :

```shell
GET /users?verified=true&firstName=Jamie
```

Si vous voulez voir toutes les photos prises Ã  New York qui ont Ã©tÃ© postÃ©es le soir du 31 dÃ©cembre et qui ont plus de 5 000 likes, vous pouvez
faire la requÃªte suivante :

```shell
GET /photos?location=NYC&created\_at=2018-12-31&likes\_greater\_than=5000
```

Et vous pouvez encore en ajouter ! âœ¨

Pour que ces options fonctionnent, il vous faudra installer cette fonctionnalitÃ© en utilisant le langage de code que vous avez choisi pour
lâ€™application, car aucun dâ€™entre eux nâ€™est intÃ©grÃ© Ã  une API lorsque vous la crÃ©ez. Ici, nous avons juste simplement illustrÃ© quelques-uns des
moyens possibles dont vous pouvez utiliser les requÃªtes avancÃ©es dans votre API.

### Paginez vos rÃ©sultats

InstaPhoto ğŸ“¸ a dÃ©collÃ© et rencontre un immense succÃ¨sâ€‰! ğŸ™ Mais vous avez maintenant des milliers de photos dans votre base de donnÃ©es, ce
qui a rendu vos endpoints /photos trÃ¨s lents, au grand dam de vos utilisateurs. ğŸ˜° Que faire ? Le moyen pour corriger cela se trouve dans ce
quâ€™on appelle la **_pagination_**. Cela signifie que vos endpoints ne retournent quâ€™un **nombre limitÃ©** dâ€™entrÃ©es par **numÃ©ro de page** dans
votre rÃ©ponse. Vous pouvez dÃ©cider de combien dâ€™items vous voulez sur chaque page, mais habituellement ce chiffre se situe entre 10 et 100.

Pour faire plus simple, /photos renvoie **toutes** les photos de votre application. Au lieu dâ€™avoir /photos, vous devez donc prÃ©ciser la page
que vous voulez obtenir dans la requÃªte :

```shell
GET /photos?page=23
```

Ainsi, vous obtiendrez uniquement la **23e** page de photos qui en contient, disons 100 par exemple, et non la totalitÃ© dâ€™entre elles. Le temps
de chargement sera rÃ©duit et votre utilisateur sera ravi ! Pour voir les photos suivantes, on peut imaginer que votre utilisateur clique sur un
bouton pour charger la suite. Et vous aurez donc :

```shell
GET /photos?page=24
```

Et ainsi de suite ! âœ¨

De la mÃªme faÃ§on, lorsque vous effectuez une recherche Google, il nâ€™est pas rare dâ€™obtenir des millions de rÃ©sultats ; du coup, Google ne
renvoie quâ€™une page des rÃ©sultats les plus haut classÃ©s, et vous pouvez parcourir le reste pour en voir plus.

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343013017578_image40.png"
         alt="1 million de rÃ©sultats lorsque l'on cherche Kaamelott sur Google !" />
    <figcaption>1 million de rÃ©sultats lorsque l'on cherche Kaamelott sur Google !</figcaption>
</figure>

Google a besoin de paginer ses rÃ©sultats pour ne pas surcharger votre UI.

La pagination permet aux utilisateurs de votre API de nâ€™appeler quâ€™une page de rÃ©sultats Ã  la fois, pour que votre client ou votre UI ne soit
pas dÃ©bordÃ© par les rÃ©sultats â€‰!

### Versionnez

Le dernier outil de design important pour les API est le **versioning (ou** **_versionnage_****)**. En donnant une version Ã  vos API, vous
pourrez facilement suivre les changements et vous assurer que votre application puisse Ãªtre **compatible pour les versions antÃ©rieures**. Cela
signifie que vous pouvez continuer Ã  mettre Ã  jour votre API, tout en garantissant que les utilisateurs dÃ©pendants dâ€™une version plus ancienne
puissent continuer Ã  lâ€™utiliser. Par exemple, si certains de vos clients utilisent dÃ©jÃ  la version 1 de votre API, vous pouvez publier une
version 2 de votre API. Alors, les utilisateurs de la version 1 de lâ€™API peuvent continuer Ã  lâ€™utiliser jusquâ€™Ã  ce quâ€™ils soient prÃªts Ã  passer
Ã  la version 2. Les dÃ©veloppeurs peuvent versionner leurs API de deux maniÃ¨res :
1. Ajoutez un champ **version** dans vos paramÃ¨tres dâ€™**en-tÃªte** de requÃªte : "accept-version": "1.3".
2. Ajoutez une **version** Ã  votre URI : **/v1/**.

Lâ€™approche la plus courante est dâ€™ajouter un **/v1** au dÃ©but de votre URI :

```shell
GET /v1/photos
```

Les Ã©lÃ©ments ci-dessus sont des fonctionnalitÃ©s basÃ©es sur le design et que vous devez prendre en compte pour le contenu de votre API, puisque
vous devrez choisir votre propre langage ou framework. Nous aborderons ce sujet dans le dernier chapitre.

### En rÃ©sumÃ©

- Le filtrage, la recherche et le tri sont des moyens dâ€™ajouter de la complexitÃ© Ã  vos requÃªtes API.
- La pagination aide vos clients et utilisateurs API Ã  Ã©viter dâ€™Ãªtre submergÃ©s par trop de donnÃ©es.
- Le versionnage vous permet de continuer Ã  mettre Ã  jour votre API sans casser le code des personnes qui en dÃ©pendent dÃ©jÃ .

_Vous venez de faire un sacrÃ© bout de chemin : vous avez construit votre premiÃ¨re API et dÃ©couvert les fonctionnalitÃ©s avancÃ©es des endpoints.
Mais quâ€™en est-il si vous souhaitez coder votre propre API ? Quels frameworks existent ? Quels langages utiliser ? Abordons cela rapidement
dans le prochain et dernier chapitre de ce cours. ğŸ‰_

-----

## Choisissez des frameworks pour construire votre API

[Choisissez des frameworks pour construire votre API - Adoptez les API REST pour vos projets web - OpenClassrooms](https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6825316-choisissez-des-frameworks-pour-construire-votre-api)

<Vimeo vimeoId="390934246" />

<br />

Tout au long de cette partie, nous avons seulement traitÃ© la thÃ©orie. Vous avez acquis des connaissances sur la conception dâ€™endpoints, le
filtrage, la recherche, le tri, la pagination et le versionnage. Mais comment construire lâ€™une de ces API vous-mÃªmeâ€‰? ğŸ¤”

### DÃ©couvrez les frameworks les plus connus pour construire une API

Le processus de dÃ©veloppement dâ€™une API dÃ©pend du langage ou de lâ€™outil de programmation utilisÃ©. Nous avons vu les meilleures pratiques de
dÃ©veloppement pour que vous soyez prÃ©parÃ© au mieux une fois que vous plongerez dans un langage. Voici quelques outils et frameworks populaires
utilisÃ©s par les dÃ©veloppeurs :

#### Express.js (JavaScript)

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343014535069_image19.jpg"
         alt="logo Express avec Node.js" />
    <figcaption>Express avec Node.js</figcaption>
</figure>

[Express](https://expressjs.com/) utilise Node.js et le JavaScript. Câ€™est un framework minimal et rapide. Il est trÃ¨s flexible et gÃ¨re des
applications complÃ¨tes aussi bien que des API REST. Le plus gros inconvÃ©nient est quâ€™il nâ€™y a pas de maniÃ¨re dÃ©finie de faire les choses, ce
qui peut Ãªtre difficile pour les dÃ©butants.

#### Ruby on Rails (Ruby)

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343014745543_image58.png"
         alt="Logo Ruby on Rails" />
    <figcaption>Ruby on Rails</figcaption>
</figure>

[Ruby on Rails](https://rubyonrails.org/) est basÃ© sur Ruby. Câ€™est un framework populaire pour de nombreux dÃ©veloppeurs. On le considÃ¨re comme
un framework magique, car derriÃ¨re sa simplicitÃ© dâ€™utilisation se cache une grande complexitÃ©. Cela aide les dÃ©butants Ã  commencer dans le
dÃ©veloppement web plus facilement. De nombreuses librairies externes (appelÃ©es Â« Ruby gems Â») sont disponibles, et la communautÃ© de dÃ©veloppeurs
Rails est trÃ¨s vaste et met en ligne de trÃ¨s nombreux tutoriels. La courbe dâ€™apprentissage de Rails devient trÃ¨s ardue une fois que vous
plongez plus profondÃ©ment dans le framework (pour comprendre la magie qui opÃ¨re derriÃ¨re).

#### Django (Python)

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343015035319_image47.png"
         alt="Logo Django" />
    <figcaption>Django</figcaption>
</figure>

[Django](https://www.djangoproject.com/) est basÃ© sur Python. Il est utilisÃ© par de grands noms comme Google, YouTube et Instagram. Le
[framework REST de Django](https://www.django-rest-framework.org/) est facile Ã  utiliser lorsque vous construisez vos API REST avec Django. Il
demande un effort dâ€™apprentissage aux dÃ©butants, mais possÃ¨de dâ€™excellentes fonctionnalitÃ©s intÃ©grÃ©es, comme lâ€™authentification et la
messagerie.

:::info
Vous voulez en savoir plus ? Nâ€™hÃ©sitez pas Ã  suivre le cours [Mettez en place une API avec Django REST framework](https://openclassrooms.com/fr/courses/7192416-mettez-en-place-une-api-avec-django-rest-framework).
:::

#### Flask (Python)

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343015194955_image2.png"
         alt="Logo Flask" />
    <figcaption>Flask</figcaption>
</figure>

[Flask](http://flask.pocoo.org/) utilise Python pour le web et le dÃ©veloppement des API REST. Câ€™est un framework minimaliste, facile
dâ€™apprentissage et dâ€™utilisation. Flask comprend moins de fonctionnalitÃ©s intÃ©grÃ©es que Django, mais permet aux dÃ©veloppeurs dâ€™avoir davantage
de choix dans les outils additionnels quâ€™ils utilisent.

#### Spring (Java)

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343015467408_image50.png"
         alt="Logo Spring" />
    <figcaption>Spring</figcaption>
</figure>

[Spring](https://spring.io/projects/spring-boot) est un framework web qui utilise Java, un langage trÃ¨s populaire. Il est utilisÃ© par des sites
web tels que Wix, TicketMaster et BillGuard. Il possÃ¨de de nombreux outils liÃ©s qui boostent sa performance et vous permettent de mettre
facilement votre business Ã  lâ€™Ã©chelle, mais il peut Ãªtre difficile Ã  prendre en main au dÃ©but â€“ surtout si vous ne maÃ®trisez pas Java.

:::info
Vous voulez en savoir plus ? Nâ€™hÃ©sitez pas Ã  suivre la [partie 3](https://openclassrooms.com/fr/courses/6900101-creez-une-application-java-avec-spring-boot/7078007-creez-lapi-avec-les-bons-starters)
du cours _CrÃ©ez une application Java avec Spring Boot_.
:::

#### AWS API Gateway

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343015630515_image3.png"
         alt="Logo AWS API Gateway" />
    <figcaption>AWS API Gateway</figcaption>
</figure>

[AWS API Gateway](https://aws.amazon.com/api-gateway/) et [AWS Lambda](https://aws.amazon.com/lambda/) sont des moyens de crÃ©er et dâ€™utiliser
des API REST en utilisant principalement une interface utilisateur (donc moins de codeâ€‰!). Ils vous permettent dâ€™intÃ©grer facilement votre site
web avec tous les services AWS, et vous pouvez aisÃ©ment scaler et gÃ©rer plus de requÃªtes avec leur infrastructure. Vous devez payer par requÃªte
effectuÃ©e par utilisateur Ã  vos serveurs, mais le premier million est gratuitâ€‰! (Soyez prudent tout de mÃªme, le nombre de requÃªtes augmente
rapidement).

Le choix de lâ€™outil doit avant tout **dÃ©pendre des besoins de votre application**. Assurez-vous de faire les recherches nÃ©cessaires sur les
frameworks et les librairies disponibles, pour choisir ce qui correspond Ã  vos besoins. Une fois votre API construite et dÃ©ployÃ©e sur le web,
vous pouvez utiliser Postman comme nous lâ€™avons fait dans lâ€™ensemble de ce cours, pour la testerâ€‰!

### En rÃ©sumÃ©

- Il existe de nombreux outils et frameworks que vous pouvez utiliser pour mettre en pratique ces concepts.
- Assurez-vous de bien faire vos recherches avant de choisir quel outil API vous convient le mieux.

_Bravo, vous Ãªtes arrivÃ© au bout de ce cours. Rendez-vous dans le chapitre suivant pour une rapide conclusion._

-----

## RÃ©sumÃ© du cours

[RÃ©sumÃ© du cours - Adoptez les API REST pour vos projets web - OpenClassrooms](https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/6825441-resume-du-cours)

<Vimeo vimeoId="390934267" />

<br />

FÃ©licitationsâ€‰! ğŸ‘ Je suis fiÃ¨re de vous ! Nous avons vu beaucoup de choses et vous Ãªtes parvenu Ã  la fin de ce coursâ€‰! Vous avez appris ce
quâ€™est une API, Ã  utiliser une API et enfin Ã  en concevoir une. âœ¨

Vous avez maintenant toutes les connaissances nÃ©cessaires pour :
- identifier la valeur des API REST pour vos projets de code ;
- formuler des requÃªtes et envoyer des rÃ©ponses avec une API REST ;
- concevoir des endpoints pour les API REST.

Il ne vous reste plus quâ€™Ã  mettre en pratique vos nouvelles compÃ©tencesâ€‰; tout dâ€™abord en vous mettant au dÃ©fi de passer le quiz final, puis
en intÃ©grant des API dans vos propres projets de codeâ€‰! ğŸ™Œ

Avant de vous laisser, voici un [lexique](https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6573181/Construisez+vos+projets+web+avec+les+APIs+REST_+le+lexique+.pdf)
reprenant les principales notions abordÃ©es dans ce cours.

<embed style={{width: "100%", height: "667px" }} src="https://s3-eu-west-1.amazonaws.com/course.oc-static.com/courses/6573181/Construisez+vos+projets+web+avec+les+APIs+REST_+le+lexique+.pdf"></embed>

<figure>
    <img src="https://user.oc-static.com/upload/2021/10/15/16343017102949_image63.png"
         alt="Extrait du rÃ©sumÃ© du cours" />
    <figcaption>Extrait du rÃ©sumÃ© du cours</figcaption>
</figure>

Happy coding !

-----

## Quiz : Concevez des API REST

[Concevez des API REST - OpenClassrooms](https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web/exercises/4279)

#### CompÃ©tences Ã©valuÃ©es

<i class="bi bi-check2-circle"></i> Concevoir des API REST

-----

#### Description

Vous faites partie des nouveaux contributeurs de lâ€™API Star Wars [SWAPI](https://swapi.dev/), qui vous a Ã©tÃ© prÃ©sentÃ©e dans le quiz de la
partie 2. Votre objectif : intÃ©grer au sein de lâ€™API des citations de chaque film. Pour y parvenir, vous devez concevoir de nouveaux endpoints.
Ces derniers devront retourner :
- toutes les citations ;
- les citations des personnages ;
- les citations des personnages par film.

Nous vous conseillons de consulter la [documentation](https://swapi.dev/documentation) de lâ€™API avant de rÃ©aliser ce quiz.

PrÃªt ? Et câ€™est parti !

-----

#### Question 1 : Commencez par dÃ©finir votre collection. Sachant que _citation_ se dit â€œquoteâ€ en anglais, comment allez-vous la nommer ?

<i class="bi bi-circle"></i> ApiQuotes<br />
<i class="bi bi-record-circle"></i> Quotes<br />
<i class="bi bi-circle"></i> ApiQuote<br />
<i class="bi bi-circle"></i> Quote<br />
<br />

_Selon la nomenclature, les collections sont un ensemble de ressources et sont toujours reprÃ©sentÃ©es au **pluriel**. La bonne rÃ©ponse est donc
Quotes._<br />
_Les rÃ©ponses 3 et 4 sont fausses car au singulier._<br />
_Pour ce qui est de la rÃ©ponse 1, nous nâ€™avons pas besoin de prÃ©ciser le terme API dans notre nom de collection._

-----

#### Question 2 : Maintenant que vous avez dÃ©terminÃ© votre collection, comment nommez-vous votre ressource ?

<i class="bi bi-circle"></i> ApiQuotes<br />
<i class="bi bi-circle"></i> Quotes<br />
<i class="bi bi-circle"></i> ApiQuote<br />
<i class="bi bi-record-circle"></i> Quote<br />
<br />

_Selon la nomenclature, les ressources sont toujours au singulier. La bonne rÃ©ponse est donc **Quote**._<br />
_Les rÃ©ponses 1 et 2 sont fausses car au pluriel._<br />
_Pour ce qui est de la rÃ©ponse 3, nous nâ€™avons pas besoin de prÃ©ciser le terme API dans notre nom de ressource._

-----

#### Question 3 : Le premier endpoint que vous devez crÃ©er doit retourner la liste de toutes les citations. Quelle URI allez-vous utiliser ?

<i class="bi bi-circle"></i> READ /quotes/:quoteId<br />
<i class="bi bi-record-circle"></i> GET /quotes<br />
<i class="bi bi-circle"></i> READ /quotes<br />
<i class="bi bi-circle"></i> GET /quotes/:quoteId<br />
<br />

_Pour obtenir cette nouvelle ressource, vous allez utiliser le verbe HTTP â€œGETâ€ associÃ© Ã  la collection â€œquotesâ€. Rappelez-vous :_<br />
_POST permet de crÃ©er une nouvelle ressource._<br />
_PUT permet de mettre Ã  jour une ressource._<br />
_DELETE permet de supprimer une ressource._<br />
_Les rÃ©ponses 1 et 3 sont fausses car READ nâ€™est pas un verbe HTTP. La rÃ©ponse 4 retourne une citation : lâ€™ID de la citation **quoteId** est
prÃ©cisÃ©e dans lâ€™URI._

-----

#### Question 4 : Ã€ prÃ©sent, vous devez obtenir une citation grÃ¢ce Ã  son ID, quelle URI allez-vous utiliser ?

<i class="bi bi-circle"></i> PUT /quotes/:id<br />
<i class="bi bi-circle"></i> POST /quotes/:id<br />
<i class="bi bi-record-circle"></i> GET /quotes/:quoteId<br />
<i class="bi bi-circle"></i> GET /quoteId/:quotes<br />
<br />

_Pour obtenir une ressource en particulier, vous devez utiliser GET, ainsi quâ€™un ID : ici **quoteID**. La bonne rÃ©ponse est la 3._<br />
_Les rÃ©ponses 1 et 2 sont fausses : PUT sâ€™utilise dans le cadre dâ€™une mise Ã  jour, tandis que POST est utilisÃ© pour une crÃ©ation._<br />
_La rÃ©ponse 4 inverse les paramÃ¨tres : on accÃ¨de dâ€™abord Ã  la collection (ici quotes) avant dâ€™accÃ©der Ã  la ressource (spÃ©cifiÃ©e ici avec
**quoteId**)._

-----

#### Question 5 : Vous voulez maintenant que les utilisateurs de votre API puissent obtenir toutes les citations dâ€™un personnage. Quelle URI utilisez-vous ?

<i class="bi bi-circle"></i> GET /quotes/:quoteId/characters<br />
<i class="bi bi-circle"></i> GET /people/:id/<br />
<i class="bi bi-circle"></i> GET /quotes/:quoteId/characters/:id<br />
<i class="bi bi-record-circle"></i> GET /people/:id/quotes<br />
<br />

_Selon la [documentation](https://swapi.dev/documentation#people), pour obtenir les informations dâ€™un personnage, vous devez utiliser
lâ€™endpoint **/people/:id**. Le nom de votre collection est **quotes**. La bonne rÃ©ponse est la 4._<br />
_La rÃ©ponse 2 nous retourne les informations dâ€™un personnage mais pas ses citations : elle est donc fausse. Pour que la rÃ©ponse 2 soit valide,
il lui manque le paramÃ¨tre **quoteId**._<br />
_Les rÃ©ponses 1 et 3 sont fausses car **characters** nâ€™est pas une collection valide pour cette API : elle nâ€™existe pas._

-----

#### Question 6 : Parmi les propositions suivantes, laquelle permet de supprimer une citation ?

<i class="bi bi-circle"></i> DELETE /people/:quoteId<br />
<i class="bi bi-circle"></i> DESTROY /quotes/:quoteId<br />
<i class="bi bi-record-circle"></i> DELETE /quotes/:quoteId<br />
<i class="bi bi-circle"></i> DESTROY /people<br />
<br />

_Pour supprimer une ressource, vous devez utiliser le verbe DELETE. De ce fait, les rÃ©ponses 2 et 4 sont fausses._<br />
_Ici nous voulons supprimer une ressource **Quote** qui fait partie de la collection **Quotes**. Il nous faut donc lâ€™id de la citation. La
bonne rÃ©ponse est donc : DELETE /quotes/:quoteId._<br />
_La rÃ©ponse 1 serait juste si on voulait supprimer un personnage._

-----

#### Question 7 : Vous avez crÃ©Ã© les endpoints pour obtenir la liste de toutes les citations, puis dâ€™une citation en particulier. Maintenant, vous souhaitez crÃ©er un endpoint pour obtenir toutes les citations dâ€™un film prÃ©cis. Quelle URI utilisez-vous ?

<i class="bi bi-record-circle"></i> GET /films/:id/quotes<br />
<i class="bi bi-circle"></i> GET /films/:quoteId/quotes<br />
<i class="bi bi-circle"></i> GET /movies/:id/quotes<br />
<i class="bi bi-circle"></i> POST /movies/:id/films/:id/quotes<br />
<br />

_La [documentation](https://swapi.dev/documentation#films) nous indique que pour obtenir un film, il faut utiliser lâ€™URI suivante :
**films/:id**. Ici nous voulons rÃ©cupÃ©rer les citations dâ€™un film en particulier. On commence par le film **/films/:id**, ensuite on rÃ©cupÃ¨re
les citations avec **/quotes**. On obtient la rÃ©ponse 1 : **/films/:id/quotes**._<br />
_La rÃ©ponse 2 utilise lâ€™ID de la citation et non celle du film dont on veut obtenir les citations._<br />
_La rÃ©ponse 3 est fausse : elle utilise la ressource **movies** et non **films**._<br />
_La rÃ©ponse 4 est fausse : POST sert Ã  crÃ©er et non obtenir une ressource, de plus elle utilise la ressource **movies** et non **films**._

-----

#### Question 8 : Parmi les propositions suivantes, laquelle modifierait la citation â€œLuke, I am your father!â€ en â€œNo, I am your father.â€ ?

```json
{
    "title": "No, I am your father."
}
```

<i class="bi bi-circle"></i> POST /films/:id/quotes<br />
<i class="bi bi-circle"></i> POST /quotes/:quoteId/<br />
<i class="bi bi-circle"></i> PUT /films/:id<br />
<i class="bi bi-record-circle"></i> PUT /quotes/:quoteId<br />
<br />

_Dans cette situation, vous deviez mettre Ã  jour lâ€™attribut name avec une nouvelle valeur. Vous allez donc utiliser : PUT /quotes/:quoteId._<br />
_Les rÃ©ponses 1 et 2 sont fausses car POST sâ€™utilise pour crÃ©er une ressource._<br />
_La rÃ©ponse 3 serait juste si vous vouliez mettre Ã  jour le titre dâ€™un film. Or, dans cette situation, vous voulez mettre Ã  jour une citation
**quoteId** qui fait partie de la collection **quotes**._

-----

#### Question 9 : Vous voulez Ã©toffer votre API et permettre aux utilisateurs de passer plusieurs paramÃ¨tres dans une requÃªte. Quel signe utilisez-vous ?

<i class="bi bi-circle"></i> $<br />
<i class="bi bi-circle"></i> &<br />
<i class="bi bi-record-circle"></i> ?<br />
<i class="bi bi-circle"></i> :<br />
<br />

_Vous devez utiliser le point dâ€™interrogation car câ€™est un moyen pour lâ€™API de savoir que vous passez un **paramÃ¨tre**. Rappelez-vous : un
paramÃ¨tre est une donnÃ©e qui sera manipulÃ©e, utilisÃ©e dâ€™une certaine maniÃ¨re, que ce soit par le client, le serveur ou ici votre API !_

-----

#### Question 10 : Pour cette question, on considÃ¨re quâ€™une ressource Quote a pour attributs :

- **_from_ : le nom du personnage qui prononce la citation ;**
- **_to_ : le nom du personnage Ã  qui est adressÃ©e la citation ;**
- **_title_ : la citation en question.**

**Vous voulez permettre aux utilisateurs de filtrer les rÃ©ponses et dâ€™obtenir toutes les citations adressÃ©es Ã  un personnage. Par exemple ici,
toutes les citations qui sont adressÃ©es Ã  Luke. Quelle URI utilisez-vous ?**

<i class="bi bi-circle"></i> GET /people/1/quotes?to=Luke<br />
<i class="bi bi-circle"></i> GET /quotes&to=Luke<br />
<i class="bi bi-record-circle"></i> GET /quotes?to=Luke<br />
<i class="bi bi-circle"></i> GET /quotes?from=Luke<br />
<br />

_Lâ€™attribut sur lequel vous devez effectuer une recherche est **to**. On obtient en premier toutes les citations grÃ¢ce Ã  lâ€™URI **/quotes**,
sur lequel on filtre les rÃ©ponses grÃ¢ce Ã  lâ€™attribut **to**. La bonne rÃ©ponse est donc /quotes?to=Luke_<br />
_La rÃ©ponse 1 est fausse car on obtient toutes les citations prononcÃ©es par Obi-Wan et adressÃ©es Ã  Luke. Dans notre cas, nous voulons **toutes**
les citations adressÃ©es Ã  Luke._<br />
_La rÃ©ponse 2 est fausse car le signe **&** sâ€™utilise pour ajouter des paramÃ¨tres ; pour que lâ€™API comprenne que nous passons des paramÃ¨tres il
faut en premier lieu ajouter **?** avant vos paramÃ¨tres._<br />
_La rÃ©ponse 4 est fausse car elle utilise lâ€™attribut from et non to._
